(this["webpackJsonpccs-client-portal"]=this["webpackJsonpccs-client-portal"]||[]).push([[0],{318:function(e,t,a){e.exports=a.p+"static/media/create-new-user.1f3467f0.svg"},319:function(e,t,a){e.exports=a.p+"static/media/view-companies.4794099c.svg"},320:function(e,t,a){e.exports=a.p+"static/media/view-schedule.8a437da2.svg"},385:function(e,t,a){e.exports=a(516)},390:function(e,t,a){},393:function(e,t,a){},410:function(e,t,a){},422:function(e,t,a){e.exports=a.p+"static/media/HS2-Company-Logo.d6c36f52.png"},426:function(e,t,a){e.exports=a.p+"static/media/CCS_logo_white.65552505.png"},483:function(e,t,a){var n={"./CCLogo-white.svg":484,"./action-cross-white.svg":485,"./action-cross.svg":486,"./action-tick-white.svg":487,"./action-tick.svg":488,"./actions-red.svg":489,"./actions-white.svg":490,"./add-comment.svg":491,"./appearance.svg":492,"./attach-photo.svg":493,"./average-site-score-dial.svg":494,"./average-site-score-pointer.svg":495,"./chevron-white.svg":496,"./closeX.svg":497,"./community.svg":498,"./covid19.svg":499,"./create-new-user.svg":318,"./edit-pencil-white.svg":500,"./environment.svg":501,"./export.svg":502,"./good-practice-tick-green.svg":503,"./good-practice-tick-white.svg":504,"./grading-stars.svg":505,"./magnify-photo.svg":506,"./padlock-white.svg":507,"./questionmark-white.svg":508,"./safety.svg":509,"./search.svg":510,"./view-companies.svg":319,"./view-schedule.svg":320,"./workforce.svg":511};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=483},484:function(e,t,a){e.exports=a.p+"static/media/CCLogo-white.40ceeaa7.svg"},485:function(e,t,a){e.exports=a.p+"static/media/action-cross-white.fac2d0ce.svg"},486:function(e,t,a){e.exports=a.p+"static/media/action-cross.894365fd.svg"},487:function(e,t,a){e.exports=a.p+"static/media/action-tick-white.bf400149.svg"},488:function(e,t,a){e.exports=a.p+"static/media/action-tick.8e78cca9.svg"},489:function(e,t,a){e.exports=a.p+"static/media/actions-red.ca0d2d6d.svg"},490:function(e,t,a){e.exports=a.p+"static/media/actions-white.ddcf4a94.svg"},491:function(e,t,a){e.exports=a.p+"static/media/add-comment.7efa4080.svg"},492:function(e,t,a){e.exports=a.p+"static/media/appearance.b5e491f3.svg"},493:function(e,t,a){e.exports=a.p+"static/media/attach-photo.408c04d8.svg"},494:function(e,t,a){e.exports=a.p+"static/media/average-site-score-dial.63a1c80c.svg"},495:function(e,t,a){e.exports=a.p+"static/media/average-site-score-pointer.657c0274.svg"},496:function(e,t,a){e.exports=a.p+"static/media/chevron-white.be2f27fc.svg"},497:function(e,t,a){e.exports=a.p+"static/media/closeX.3e50fa05.svg"},498:function(e,t,a){e.exports=a.p+"static/media/community.a3850d98.svg"},499:function(e,t,a){e.exports=a.p+"static/media/covid19.7bf42e82.svg"},500:function(e,t,a){e.exports=a.p+"static/media/edit-pencil-white.c12176b3.svg"},501:function(e,t,a){e.exports=a.p+"static/media/environment.81061165.svg"},502:function(e,t,a){e.exports=a.p+"static/media/export.dd0c381d.svg"},503:function(e,t,a){e.exports=a.p+"static/media/good-practice-tick-green.9630f381.svg"},504:function(e,t,a){e.exports=a.p+"static/media/good-practice-tick-white.69a9a1dc.svg"},505:function(e,t,a){e.exports=a.p+"static/media/grading-stars.a94fba96.svg"},506:function(e,t,a){e.exports=a.p+"static/media/magnify-photo.5fc350c4.svg"},507:function(e,t,a){e.exports=a.p+"static/media/padlock-white.2c3b64f0.svg"},508:function(e,t,a){e.exports=a.p+"static/media/questionmark-white.1462be71.svg"},509:function(e,t,a){e.exports=a.p+"static/media/safety.dde6946d.svg"},510:function(e,t,a){e.exports=a.p+"static/media/search.0aac3931.svg"},511:function(e,t,a){e.exports=a.p+"static/media/workforce.07e63db1.svg"},512:function(e,t,a){},513:function(e,t,a){e.exports=a.p+"static/media/css_logo_red.e3f36e9d.png"},516:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"GlobalStore",(function(){return T})),a.d(n,"UserStore",(function(){return F})),a.d(n,"CheckListStore",(function(){return B})),a.d(n,"MonitorStore",(function(){return H})),a.d(n,"CompanyAndSiteStore",(function(){return q})),a.d(n,"initialStoreFetchFor",(function(){return G})),a.d(n,"resetAllStore",(function(){return Y}));var r=a(0),o=a.n(r),i=a(21),l=a.n(i),c=(a(390),a(55)),s=a(11),d=a(12),m=a(19),u=a(18),p=a(34),h=a(20),g="#FFFFFF",f={black:"#000000",white:g,primary:{contrastText:g,dark:"#232323",main:"#333333",light:"#5b5b5b"},secondary:{contrastText:"#000000",light:h.a.grey[100],main:h.a.grey[300],dark:h.a.grey[400]},custom:h.a,success:{contrastText:g,dark:h.a.teal[900],main:h.a.teal[700],light:h.a.teal[400]},info:{contrastText:g,dark:h.a.blue[900],main:h.a.blue[600],light:h.a.blue[400]},warning:{contrastText:g,dark:h.a.orange[900],main:h.a.orange[600],light:h.a.orange[400]},error:{contrastText:g,dark:h.a.red[900],main:h.a.red[600],light:h.a.red[400]},text:{primary:g,secondary:g,grey:h.a.grey[300],link:h.a.blue[600]},background:{default:"#F4F6F8",paper:g,grey:h.a.grey[300]},icon:h.a.blueGrey[600],divider:h.a.grey[200]},y={colors:f},b=a(423),E=a(429),v=a(621),C=a(347),S=a(27),k=(a(393),a(619)),x=a(348),w=a(142),O=a.n(w),L=(a(410),"https://authserver.arba-dev.uk"),j="https://authserver.arba-dev.uk/api",N=a(7),I=function(){function e(){Object(s.a)(this,e),this.routeHistory=null}return Object(d.a)(e,[{key:"reset",value:function(){}}]),e}();Object(N.j)(I,{reset:N.f});var T=new I,A=function(){function e(){Object(s.a)(this,e),this.userProfile={},this.currentUser={},this.isLoading=!1,this.isError=!1}return Object(d.a)(e,[{key:"setCurrentUserWithToken",value:function(e){this.currentUser=e||{}}},{key:"fetchUserProfile",value:function(){var e=this;this.isLoading=!0,this.isError=!1,$.fetchUserProfile().then((function(t){console.log("user Profile Response",t),e.userProfile=t,e.isLoading=!1})).catch((function(t){e.isError=!0,e.isLoading=!1}))}},{key:"reset",value:function(){this.isLoading=!1,this.isError=!1,this.userProfile={},this.currentUser={}}},{key:"getProfile",get:function(){return Object(N.r)(this.userProfile)}},{key:"getCurrentUser",get:function(){return Object(N.r)(this.currentUser)}},{key:"isAdmin",get:function(){var e,t;return!!(null===(e=this.getCurrentUser)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.includes("ROLE_ADMIN"))}},{key:"isLoggedIn",get:function(){var e;return!!(null===(e=this.getCurrentUser)||void 0===e?void 0:e.accessToken)}}]),e}();Object(N.j)(A,{userProfile:N.o,currentUser:N.o,isLoading:N.o,isError:N.o,isLoggedIn:N.g,isAdmin:N.g,fetchUserProfile:N.f,setCurrentUserWithToken:N.f,getProfile:N.g,getCurrentUser:N.g,reset:N.f});var F=new A,D=a(15),P=a(340),_=a.n(P),R=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"fetchAllCheckList",value:function(){return K("/get-all-CheckLists","get")}},{key:"fetchCheckListForSiteId",value:function(e){return K("/checkList/".concat(e),"get")}},{key:"uploadcheckListForSiteId",value:function(e,t){return K("/checkList","patch",{data:t}).then((function(e){return console.log("upload checklist response",e),e}))}},{key:"updateCheckListForId",value:function(e,t){return K("/checkList","patch",{data:Object(D.a)({_id:e},t)}).then((function(e){return console.log("update checklist response",e),e}))}},{key:"checkListFileUpload",value:function(e){return K("/checkList/image/upload","post",{data:e,headers:{"Content-type":"multipart/form-data"}}).then((function(e){return console.log("file upload response",e),e}))}}]),e}()),M=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"fetchAllMonitor",value:function(){return K("/get-all-monitors","get")}},{key:"createMonitor",value:function(e){return K("add/monitor","post",{data:e}).then((function(e){return console.log("signup response",e),H.fetchAllMonitors(),e}))}},{key:"assignSiteVisitSchedule",value:function(e){return K("/assign-site","put",{data:e}).then((function(e){return console.log("assign site response",e),e}))}},{key:"getAssignSitesForCurrentMonitor",value:function(){return K("/assign-site","get").then((function(e){return console.log("assign site response",e),e}))}},{key:"deleteOneMonitor",value:function(e){return K("/delete/monitor/".concat(e),"delete")}}]),e}()),U=function(){function e(){Object(s.a)(this,e),this.allMonitors=[],this.assignedSitesForCurrentMonitor=[],this.selectedAssignedSite={},this.isLoading=!1,this.isError=!1}return Object(d.a)(e,[{key:"convertAndGetTableDataOfAssignedSites",value:function(){return this.getAssignedSitesForCurrentMonitor.map((function(e,t){return e.sn=t+1,e}))}},{key:"fetchAllMonitors",value:function(){var e=this;this.isLoading=!0,this.isError=!1,M.fetchAllMonitor().then((function(t){console.log("monitor Data Response",t),e.allMonitors=t,e.isLoading=!1})).catch((function(t){e.isError=!0,e.isLoading=!1}))}},{key:"fetchAllAssignedSitesForCurrentMonitor",value:function(){var e=this;this.isLoading=!0,this.isError=!1,M.getAssignSitesForCurrentMonitor().then((function(t){console.log("assigned sitesData Response",t),e.assignedSitesForCurrentMonitor=t,e.isLoading=!1})).catch((function(t){e.isError=!0,e.isLoading=!1}))}},{key:"getAssignedSiteById",value:function(e){return this.getSelectedAssignedSite.find((function(t){return t._id==e}))}},{key:"reset",value:function(){this.isLoading=!1,this.isError=!1,this.allMonitors=[]}},{key:"getAllMonitors",get:function(){return Object(N.r)(this.allMonitors)}},{key:"getSelectedAssignedSite",get:function(){return Object(N.r)(this.selectedAssignedSite)}},{key:"getAssignedSitesForCurrentMonitor",get:function(){return Object(N.r)(this.assignedSitesForCurrentMonitor)}},{key:"convertAndGetTableData",get:function(){return this.getAllMonitors.map((function(e,t){return e.sn=t+1,e}))}}]),e}();Object(N.j)(U,{allMonitors:N.o,assignedSitesForCurrentMonitor:N.o,isLoading:N.o,isError:N.o,fetchAllMonitors:N.f,fetchAllAssignedSitesForCurrentMonitor:N.f,convertAndGetTableData:N.g,getAllMonitors:N.g,getAssignedSitesForCurrentMonitor:N.g,reset:N.f});var H=new U,W=function(){function e(){Object(s.a)(this,e),this.isLoading=!1,this.isError=!1,this.isCheckListUploadError=!1,this.checklist={id:"ckid34837483",siteId:"jksjdksdjskdjs",checkListData:{checkListData:[{id:1,name:"Appearance",icon:"create-new-user.svg",isComplete:!1,children:[{id:1.1,question:"Does the external appearance of\n                the site present a positive image of\n                the industry?",isComplete:!1,options:[{isComplete:!1,name:"Initial impressions",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"signage",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"enclosures",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"entrance",score:"",commet:"",photoPath:[]}]},{id:1.2,question:"Does the site appear well\n                organised, clean and tidy?",isComplete:!1,options:[{isComplete:!1,name:"Tidiness",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"organisation",score:"",commet:"",photoPath:[]}]}]},{id:2,name:"Community",icon:"create-new-user.svg",isComplete:!1,children:[{id:2.1,question:"Does the external appearance of\n                  the site present a positive image of\n                  the industry?",isComplete:!1,options:[{isComplete:!1,name:"Initial impressions",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"signage",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"enclosures",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"entrance",score:"",commet:"",photoPath:[]}]},{id:2.2,question:"Does the site appear well\n                  organised, clean and tidy?",isComplete:!1,options:[{isComplete:!1,name:"Tidiness",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"organisation",score:"",commet:"",photoPath:[]}]}]},{id:3,name:"Environment",icon:"create-new-user.svg",isComplete:!1,children:[{id:3.1,question:"Does the external appearance of\n                  the site present a positive image of\n                  the industry?",isComplete:!1,options:[{isComplete:!1,name:"Initial impressions",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"signage",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"enclosures",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"entrance",score:"",commet:"",photoPath:[]}]},{id:3.2,question:"Does the site appear well\n                  organised, clean and tidy?",isComplete:!1,options:[{isComplete:!1,name:"Tidiness",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"organisation",score:"",commet:"",photoPath:[]}]}]},{id:4,name:"Safety",icon:"create-new-user.svg",isComplete:!1,children:[{id:4.1,question:"Does the external appearance of\n                  the site present a positive image of\n                  the industry?",isComplete:!1,options:[{isComplete:!1,name:"Initial impressions",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"signage",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"enclosures",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"entrance",score:"",commet:"",photoPath:[]}]},{id:4.2,question:"Does the site appear well\n                  organised, clean and tidy?",isComplete:!1,options:[{isComplete:!1,name:"Tidiness",score:"",commet:"",photoPath:[]},{isComplete:!1,name:"organisation",score:"",commet:"",photoPath:[]}]}]}]}},this.selectedSectionIndex=null,this.selectedStepperIndexInsideSection=-1}return Object(d.a)(e,[{key:"fetchCheckListForSiteId",value:function(e){var t=this;this.isLoading=!0,this.isError=!1,R.fetchCheckListForSiteId(e).then((function(e){console.log("checkListData Response",e),t.checklist=e,t.isLoading=!1})).catch((function(e){t.isError=!0,t.isLoading=!1}))}},{key:"setCheckList",value:function(e){this.checklist&&this.checklist._id==e._id||(this.checklist=e)}},{key:"uploadCurrentCheckList",value:function(){var e=this;this.isLoading=!0,this.isError=!1,this.isCheckListUploadError=!1,R.uploadcheckListForSiteId(this.getCheckList.siteId,this.getCheckList).then((function(t){console.log("checkListData uploaded",t),H.fetchAllAssignedSitesForCurrentMonitor(),e.isLoading=!1})).catch((function(t){S.a.error(t.message||"Error Saving Checklist"),e.isCheckListUploadError=!0,e.isLoading=!1}))}},{key:"submitCurrentCheckList",value:function(){var e=this;this.isLoading=!0,this.isError=!1,this.isCheckListUploadError=!1,R.uploadcheckListForSiteId(this.getCheckList.siteId,Object(D.a)(Object(D.a)({},this.getCheckList),{},{submitted:!0})).then((function(t){console.log("checkListData submitted",t),H.fetchAllAssignedSitesForCurrentMonitor(),e.isLoading=!1})).catch((function(t){S.a.error(t.message||"Error Submitting Checklist"),e.isCheckListUploadError=!0,e.isLoading=!1}))}},{key:"incrementStepper",value:function(){this.selectedStepperIndexInsideSection+=1}},{key:"decrementStepper",value:function(){this.selectedStepperIndexInsideSection-=1}},{key:"makeSelectedSectionCompleted",value:function(){this.checklist.checkListData.checkListData[this.selectedSectionIndex].isComplete=!0}},{key:"makeCurrentStepperContentCompleted",value:function(){this.checklist.checkListData.checkListData[this.selectedSectionIndex].children[this.selectedStepperIndexInsideSection].isComplete=!0}},{key:"setNextSection",value:function(){this.selectedSectionIndex<this.getCheckList.checkListData.checkListData.length&&(this.selectedSectionIndex+=1,this.selectedStepperIndexInsideSection=0)}},{key:"setSelectedSectionIndex",value:function(e){this.selectedSectionIndex=e,this.selectedStepperIndexInsideSection=-1}},{key:"updateOptionValueForName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{key:"key",value:"value"}],a=this.getSelectedSection,n=this.getCurrentStepperContent,r=n.options.find((function(t){return t.name==e}));if(r){t.forEach((function(e){r[e.key]=e.value}));var o=_.a.findIndex(n.options,{name:r.name});n.options.splice(o,1,r),a.children.splice(this.selectedStepperIndexInsideSection,1,n),this.checklist.checkListData.checkListData.splice(this.selectedSectionIndex,1,a)}}},{key:"reset",value:function(){}},{key:"retriveSectionById",value:function(e){return this.getCheckList.checkListData.checkListData.find((function(t){return t.id==e}))}},{key:"isLastItem",value:function(){return this.selectedSectionIndex==this.checklist.checkListData.checkListData.length-1}},{key:"isSelectedSectionStepperOptionsFinished",value:function(){var e=this.getCurrentStepperContent;return e.options.filter((function(e){return 1==e.isComplete})).length==e.options.length}},{key:"getCheckList",get:function(){var e=Object(N.r)(this.checklist),t=e.checkListData.checkListData.map((function(e,t){return"APPEARANCE"==e.name.toUpperCase()?e.icon="appearance.svg":"COMMUNITY"==e.name.toUpperCase()?e.icon="community.svg":"ENVIRONMENT"==e.name.toUpperCase()?e.icon="environment.svg":"SAFETY"==e.name.toUpperCase()?e.icon="safety.svg":"WORKFORCE"==e.name.toUpperCase()?e.icon="workforce.svg":"CORONAVIRUS"!=e.name.toUpperCase()&&"CORONAVIRUS "!=e.name.toUpperCase()||(e.icon="covid19.svg"),e}));return e.checkListData.checkListData=t,e}},{key:"getSelectedSection",get:function(){return this.getCheckList.checkListData.checkListData[this.selectedSectionIndex]}},{key:"getTotalCompletedPercentage",get:function(){var e=this.getCheckList.checkListData.checkListData;return(e.filter((function(e){return 1==e.isComplete})).length/e.length*100).toFixed()}},{key:"getSelectedSectionTotalCompletedPercentage",get:function(){var e=this.getSelectedSection.children;return(e.filter((function(e){return 1==e.isComplete})).length/e.length*100).toFixed()}},{key:"getCurrentStepperContent",get:function(){return this.getSelectedSection.children[this.selectedStepperIndexInsideSection]}}]),e}();Object(N.j)(W,{reset:N.f,checklist:N.o,isLoading:N.o,isError:N.o,selectedSectionIndex:N.o,selectedStepperIndexInsideSection:N.o,getCheckList:N.g,getSelectedSection:N.g,getTotalCompletedPercentage:N.g,getSelectedSectionTotalCompletedPercentage:N.g,getCurrentStepperContent:N.g,incrementStepper:N.f,uploadCurrentCheckList:N.f,submitCurrentCheckList:N.f,fetchCheckListForSiteId:N.f,setCheckList:N.f,makeSelectedSectionCompleted:N.f,makeCurrentStepperContentCompleted:N.f,decrementStepper:N.f,setSelectedSectionIndex:N.f,setNextSection:N.f,updateOptionValueForName:N.f});var B=new W,z=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"fetchAllCompany",value:function(){return K("/company","get")}},{key:"fetchOneCompany",value:function(e){return K("/company/".concat(e),"get")}},{key:"createCompany",value:function(e){var t;return K("/company","post",{data:Object(D.a)(Object(D.a)({},e),{},{clientId:null===(t=$.getUserInfo())||void 0===t?void 0:t.id})})}},{key:"updateCompany",value:function(e,t){var a={data:t};return K("/company/".concat(e),"put",a)}},{key:"deleteOneCompany",value:function(e){return K("/company/".concat(e),"delete")}}]),e}()),V=function(){function e(){Object(s.a)(this,e),this.allCompanies=[],this.isLoading=!1,this.isError=!1}return Object(d.a)(e,[{key:"fetchAllCompanies",value:function(){var e=this;this.isLoading=!0,this.isError=!1,z.fetchAllCompany().then((function(t){console.log("companiesData Data Response",t),e.allCompanies=t,e.isLoading=!1})).catch((function(t){e.isError=!0,e.isLoading=!1}))}},{key:"reset",value:function(){this.isLoading=!1,this.isError=!1,this.allCompanies=[]}},{key:"getAllCompanies",get:function(){return Object(N.r)(this.allCompanies)}},{key:"convertAndGetTableData",get:function(){return this.getAllCompanies.map((function(e,t){return e.sn=t+1,e}))}}]),e}();Object(N.j)(V,{allCompanies:N.o,isLoading:N.o,isError:N.o,fetchAllCompanies:N.f,convertAndGetTableData:N.g,getAllCompanies:N.g,reset:N.f});var q=new V;function G(e){"ADMIN"==e?(H.fetchAllMonitors(),q.fetchAllCompanies()):"MONITOR"==e&&H.fetchAllAssignedSitesForCurrentMonitor()}function Y(){H.reset(),F.reset(),B.reset(),H.reset(),q.reset()}function K(e,t,a){return new Promise((function(n,r){var o={url:e,method:t||"get",baseURL:j},i=Object.assign(o,a||{});O()(i).then((function(e){console.log("response",e),n(e.data)})).catch((function(e){if(e.response){401===e.response.status&&(S.a.error("Your session is invalid. Please log in again"),$.logOut()),console.log("error",e.response);var t=e.response.data;r(t)}else if(e.request){var a=new Error("Request error!!!");r(a)}else e.message="Unexpected error occured!!!",r(e)}))}))}O.a.interceptors.request.use((function(e){var t=$.getAccessToken();return t&&(e.headers["x-access-token"]="".concat(t)),e}));var J=a(341),X=a.n(J),$=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"getAccessToken",value:function(){var e=localStorage.getItem("user_info")?JSON.parse(localStorage.getItem("user_info")):null;return e&&e.accessToken?e.accessToken:null}},{key:"getUserRole",value:function(){var e=JSON.parse(localStorage.getItem("user_info"));return e?e.roles[0]:null}},{key:"isAdmin",value:function(){var e,t=this.getCurrentUser();return!!(null===t||void 0===t||null===(e=t.roles)||void 0===e?void 0:e.includes("ROLE_ADMIN"))}},{key:"isMonitor",value:function(){var e,t=this.getCurrentUser();return!!(null===t||void 0===t||null===(e=t.roles)||void 0===e?void 0:e.includes("ROLE_MONITOR"))}},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("user_info")?JSON.parse(localStorage.getItem("user_info")):null;return e||null}},{key:"isAuthenticated",value:function(){return!!this.getAccessToken()}},{key:"login",value:function(e){var t=this;return K("auth/signin","post",{data:X.a.stringify(e)}).then((function(e){return console.log("login data",e),localStorage.setItem("user_info",JSON.stringify(e)),F.setCurrentUserWithToken(e),t.isAdmin()?G("ADMIN"):t.isMonitor()&&G("MONITOR"),e}))}},{key:"fetchUserProfile",value:function(){return K("/auth/profile","get")}},{key:"fetchSystemUsers",value:function(){return K("/get-all-users","get")}},{key:"forgotPassword",value:function(e){return K("auth/forgotPassword","post",{data:{email:e}})}},{key:"changePassword",value:function(e){return K("auth/changePassword","put",{data:e})}},{key:"logOut",value:function(){localStorage.removeItem("user_info"),Y()}}]),e}()),Q=a(612),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.errorData;return o.a.createElement(Q.a,{show:this.state.show,dismissible:!0,variant:"danger",onClose:function(){return e.setState({show:!1})}},o.a.createElement(Q.a.Heading,{style:{textAlign:"center"}},t.message?t.message:"Oh snap! You got an error!"),t.data?t.data.map((function(e,t){return o.a.createElement("p",{key:t},e.msg)})):null)}}]),a}(r.Component),ee=a(613),te=a(65),ae=function(e){var t=e.title,a=e.glowType,n=e.containerStyle;return e.overlay?o.a.createElement("div",{style:Object.assign({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(52, 52, 52, 0.3)",color:y.colors.success.main,position:"fixed",bottom:0,left:0,right:0,top:0,zIndex:1e6},n)},a?o.a.createElement("div",null,o.a.createElement(ee.a,{animation:"grow",variant:"primary"}),o.a.createElement(ee.a,{animation:"grow",variant:"secondary"}),o.a.createElement(ee.a,{animation:"grow",variant:"success"}),o.a.createElement(ee.a,{animation:"grow",variant:"danger"}),o.a.createElement(ee.a,{animation:"grow",variant:"warning"})):o.a.createElement(ee.a,{animation:"border",role:"status"}),o.a.createElement(te.a,{variant:"h4",style:{fontWeight:"bold",fontSize:"130%",color:y.colors.success.main}},t||"One moment please...")):o.a.createElement("div",{style:Object.assign({height:window.innerHeight||"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:y.colors.success.main},n)},a?o.a.createElement("div",null,o.a.createElement(ee.a,{animation:"grow",variant:"primary"}),o.a.createElement(ee.a,{animation:"grow",variant:"secondary"}),o.a.createElement(ee.a,{animation:"grow",variant:"success"}),o.a.createElement(ee.a,{animation:"grow",variant:"danger"}),o.a.createElement(ee.a,{animation:"grow",variant:"warning"})):o.a.createElement(ee.a,{animation:"border",role:"status"}),o.a.createElement("h4",null,t||"One moment please..."))},ne=a(36),re=a(346),oe=a(117),ie=a.n(oe),le=function(e){var t=e.buttonStyle,a=e.children,n=e.backgroundColor,r=e.textColor,i=e.width,l=e.square,c=e.withIcon,s=e.customMUIcon,d=Object(ne.a)(e,["buttonStyle","children","backgroundColor","textColor","width","square","withIcon","customMUIcon"]);return l?o.a.createElement(re.a,Object.assign({style:Object(D.a)({backgroundColor:n||y.colors.success.main,border:"2px solid ".concat(y.colors.background.grey),color:r||y.colors.background.grey,width:i||"40%",fontWeight:"500",fontSize:"110%",position:"relative"},t)},d),a,c&&o.a.createElement("div",{style:{position:"absolute",right:5,display:"inline"}},s||o.a.createElement(ie.a,null))):o.a.createElement(re.a,Object.assign({style:Object(D.a)({backgroundColor:n||y.colors.success.main,borderWidth:0,border:"2px solid ".concat(y.colors.background.grey),color:r||y.colors.background.grey,borderRadius:20,width:i||"40%",fontWeight:"500",fontSize:"110%",position:"relative"},t)},d),a,c&&o.a.createElement(ie.a,{style:{position:"absolute",right:0}}))},ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;e.preventDefault(),n.setState({isLoading:!0,errorData:null}),$.forgotPassword(t).then((function(e){n.setState({isLoading:!1}),S.a.success(e.message||"Please check your mail for reset link")})).catch((function(e){console.log("Error Forgot Password",e),n.setState({errorData:e,isLoading:!1}),S.a.error(e.message||"Error Occurred")}))},n.renderErrorData=function(){var e=n.state.errorData;return e?o.a.createElement(Z,{errorData:e}):null},n.state={email:"",isLoading:!1,errorData:null},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.isLoading;return o.a.createElement(k.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),n&&o.a.createElement(ae,{overlay:!0}),this.renderErrorData(),o.a.createElement(k.a.Header,{closeButton:!0,style:{padding:20,backgroundColor:y.colors.primary.dark,color:"white"}},o.a.createElement(k.a.Title,{id:"contained-modal-title-vcenter"},"Password reset")),o.a.createElement(k.a.Body,{style:{padding:20,backgroundColor:y.colors.primary.dark,color:"white"}},o.a.createElement(v.a,{onSubmit:this.onSubmit},o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a,controlId:"EmailId"},o.a.createElement(v.a.Label,null,"Your registered Email"),o.a.createElement(v.a.Control,{required:!0,value:a,onChange:function(t){e.setState({email:t.target.value})},type:"email",placeholder:"Enter your registered email"}))),o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a,style:{textAlign:"right"},controlId:"submit"},o.a.createElement(le,{square:!0,type:"submit"},"SEND"))))))}}]),a}(r.Component),se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.containerStyle;return o.a.createElement("div",{style:Object.assign({padding:5,textAlign:"center",color:"white"},e)})}}]),a}(r.Component);var de=a(52),me=a(53),ue=a(425),pe=a(424),he=a(418),ge=a(428),fe=a(517),ye=a(228),be=a(356),Ee=a.n(be),ve=a(355),Ce=a(66),Se=a(39),ke=a(29),xe=a(349),we=a(350),Oe=a(417),Le=Object(Ce.a)((function(e){return{root:{color:y.colors.text.grey,width:"100%",maxWidth:360,backgroundColor:y.colors.primary.main},icon:{color:y.colors.primary.contrastText}}}));function je(e){var t=Le(),a=o.a.useState(1),n=Object(de.a)(a,2),r=n[0],i=n[1],l=function(e,t){i(t)};return o.a.createElement("div",{className:t.root},o.a.createElement(xe.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(we.a,{button:!0,selected:1===r,onClick:function(t){e.clicked(),e.history.push("/dashboard"),l(0,1)}},o.a.createElement(Oe.a,{primary:"Dashboard"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:2===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/companies"),l(0,2)}},o.a.createElement(Oe.a,{primary:"View all companies & sites"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:3===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/monitors"),l(0,3)}},o.a.createElement(Oe.a,{primary:"View & schedule monitors"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:4===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/messages"),l(0,4)}},o.a.createElement(Oe.a,{primary:"Messages"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:5===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/help"),l(0,5)}},o.a.createElement(Oe.a,{primary:"Help"}))))}var Ne=a(10),Ie=a(218),Te=a(420),Ae=a(227),Fe=a.n(Ae),De=a(219),Pe=a.n(De),_e=a(144),Re=a.n(_e),Me=a(353),Ue=a.n(Me),He=(a(622),a(624),{containerStyle:{display:"flex",minHeight:70,backgroundColor:"white",color:"black"},scoreContainerStyle:{display:"flex",width:70,fontSize:27,color:"white",fontWeight:700,backgroundColor:"green",justifyContent:"center",alignItems:"center"},textContainerStyle:{display:"flex",flex:1,paddingLeft:15,backgroundColor:y.colors.custom.grey[300],alignItems:"center"}}),We=function(e){var t=e.score,a=e.text,n=e.containerStyle,r=e.scoreContainerStyle,i=e.textContainerStyle,l=Object(ne.a)(e,["score","text","containerStyle","scoreContainerStyle","textContainerStyle"]);return o.a.createElement("div",Object.assign({style:Object(D.a)(Object(D.a)({},He.containerStyle),n)},l,{className:"rounded"}),o.a.createElement("div",{style:Object(D.a)(Object(D.a)({},He.scoreContainerStyle),r),className:"rounded-left"},o.a.createElement("div",null,t)),o.a.createElement("div",{style:Object(D.a)(Object(D.a)({},He.textContainerStyle),i),className:"rounded-right"},o.a.createElement("strong",null,a)))},Be=We;We.defaultProps={score:2,text:"test text please replace with props"};var ze=Object(Ne.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return o.a.createElement(Ie.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ve=Object(Ne.a)((function(e){return{root:{"&:focus":{"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:"theme.palette.common.black"}}}}}))(Te.a);var qe=Object(ke.b)((function(e){var t=o.a.useState(null),n=Object(de.a)(t,2),r=n[0],i=n[1],l=o.a.useState(null),c=Object(de.a)(l,2),s=c[0],d=c[1],m=Object(p.h)(),u=Object(p.g)(),h=Object(p.f)(m.pathname,{path:"/dashboard/todo/checklist",exact:!1,strict:!1});return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},B.getCheckList&&h&&o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"white",color:"black",outline:"none",focus:"none",textTransform:"none",height:50,minWidth:50,display:"flex",alignItems:"center",justifyContent:"center",padding:5}},o.a.createElement("img",{src:a(422),style:{maxHeight:"100%",minWidth:"100%"}})),o.a.createElement("div",{style:{backgroundColor:"black",color:"white",outline:"none",focus:"none",textTransform:"none",height:50,display:"flex",alignItems:"center",justifyContent:"center",padding:5}},o.a.createElement("div",null,o.a.createElement("small",null,"SITE ID"),o.a.createElement("div",null,"HS22020971382_945")))),o.a.createElement("div",{style:{backgroundColor:"grey",height:50,width:50,display:"flex",alignItems:"center",justifyContent:"center",padding:5}},o.a.createElement(Pe.a,null)),o.a.createElement("div",{style:{backgroundColor:y.colors.error.dark}},o.a.createElement("div",{style:{color:"white",outline:"none",focus:"none",textTransform:"none",height:50,display:"flex",alignItems:"center",justifyContent:"center",padding:5,cursor:"pointer"},onClick:function(e){i(e.currentTarget)}},o.a.createElement("div",null,o.a.createElement("small",null,F.isAdmin?"ADMIN":"MONITOR"),o.a.createElement("div",null,F.getCurrentUser.email," ",o.a.createElement(Ue.a,null))))),o.a.createElement("div",{style:{backgroundColor:y.colors.success.main,height:50,width:50,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:5,marginLeft:5,cursor:"pointer"},onClick:function(e){d(e.currentTarget)}},o.a.createElement(Fe.a,null),"Help")),o.a.createElement(ze,{id:"customized-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){i(null)}},o.a.createElement(Ve,{onClick:function(){return alert("This feature is currently being implemented. Please check after some days.")}},o.a.createElement(Oe.a,{primary:"Profile"})),o.a.createElement(Ve,{onClick:function(){u.push("/dashboard/change-password"),i(null)}},o.a.createElement(Oe.a,{primary:"Change Password"})),o.a.createElement(Ve,{onClick:function(){$.logOut()}},o.a.createElement(Oe.a,{primary:"Logout"}))),o.a.createElement(ze,{id:"customized-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){d(null)},PaperProps:{style:{width:"100%",backgroundColor:y.colors.primary.dark,color:y.colors.primary.contrastText,marginTop:10}}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(ye.a,null,o.a.createElement(Fe.a,{style:{fontSize:50,marginLeft:20}})),o.a.createElement(ye.a,null,o.a.createElement(Re.a,{style:{fontSize:30,color:y.colors.error.main,marginRight:20},onClick:function(){d(null)}})," ")),o.a.createElement(b.a,{maxWidth:"sm"},o.a.createElement("h6",null,"To answer the questions, please use the scoring system below:"),o.a.createElement(Be,{score:1,text:"Not meeting the minimum standards of the Scheme code",scoreContainerStyle:{backgroundColor:y.colors.error.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:2,text:"Meeting compliance standards of the Scheme",scoreContainerStyle:{backgroundColor:y.colors.warning.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:3,text:"Meeting beyond compliance standards of the Scheme",scoreContainerStyle:{backgroundColor:y.colors.warning.light},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:4,text:"Demonstrating good practice & above the Scheme standards",scoreContainerStyle:{backgroundColor:y.colors.success.main},containerStyle:{marginBottom:5}}))))})),Ge=Object(Ce.a)((function(e){return{root:{color:y.colors.text.grey,width:"100%",maxWidth:360,backgroundColor:y.colors.primary.main},icon:{color:y.colors.primary.contrastText}}}));function Ye(e){var t=Ge(),a=o.a.useState(1),n=Object(de.a)(a,2),r=n[0],i=n[1],l=function(e,t){i(t)};return o.a.createElement("div",{className:t.root},o.a.createElement(xe.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(we.a,{button:!0,selected:1===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/new-visit"),l(0,1)}},o.a.createElement(Oe.a,{primary:"View & edit site visits"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:2===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/messages"),l(0,2)}},o.a.createElement(Oe.a,{primary:"Messages"})),o.a.createElement("center",null,o.a.createElement(he.a,{style:{backgroundColor:y.colors.text.grey,width:"90%"}})),o.a.createElement(we.a,{button:!0,selected:3===r,onClick:function(t){e.clicked(),e.history.push("/dashboard/help"),l(0,3)}},o.a.createElement(Oe.a,{primary:"Help"}))))}var Ke=a(623),Je=function(){return Object(Ke.a)().online?null:o.a.createElement("div",{style:{padding:2,width:"100%",position:"fixed",backgroundColor:y.colors.error.main,color:y.colors.error.contrastText,zIndex:1e9,display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{fontSize:10,fontWeight:"bold"}},"No Internate Connection"))},Xe=Object(Ce.a)((function(e){var t,a;return{root:{minHeight:"100vh",backgroundColor:y.colors.primary.dark,backgroundRepeat:"repeat-y",backgroundSize:"100%",overflow:"auto",color:y.colors.primary.contrastText},title:{flexGrow:1,display:"flex",alignItems:"center"},drawer:Object(me.a)({},e.breakpoints.up("md"),{width:300,flexShrink:0}),appBar:Object(me.a)({backgroundColor:y.colors.primary.main,zIndex:100,color:y.colors.text.primary},e.breakpoints.up("md"),{width:"calc(100% - ".concat(300,"px)"),marginLeft:300}),menuButton:(t={marginRight:e.spacing(2)},Object(me.a)(t,e.breakpoints.up("md"),{display:"none"}),Object(me.a)(t,"&:focus",{outline:"none"}),t),toolbar:Object(D.a)({},e.mixins.toolbar),drawerPaper:{width:300,backgroundColor:y.colors.primary.main,color:y.colors.text.primary},content:(a={display:"block"},Object(me.a)(a,e.breakpoints.up("md"),{marginLeft:300}),Object(me.a)(a,"flexGrow",1),Object(me.a)(a,"padding",e.spacing(2)),a)}}));var $e=Object(ke.b)((function(e){var t=e.window,n=e.children,r=e.noLayout,i=(e.noLayoutWrapperClassName,e.history),l=Xe(),c=(Object(p.h)(),Object(Se.a)()),s=o.a.useState(!1),d=Object(de.a)(s,2),m=d[0],u=d[1],h=function(){u(!m)},g=void 0!==t?function(){return t().document.body}:void 0;return r?o.a.createElement("div",{style:{minHeight:"100vh"}},e.children):o.a.createElement("div",{className:l.root},o.a.createElement(pe.a,null),o.a.createElement(ue.a,{position:"fixed",className:l.appBar},o.a.createElement(ve.a,null,o.a.createElement(ye.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:h,className:l.menuButton},o.a.createElement(Ee.a,null)),o.a.createElement("h6",{variant:"h6",noWrap:!0,className:l.title},o.a.createElement("img",{src:a(426),style:{width:70},alt:"CCS Logo"})),o.a.createElement(qe,{history:i}))),o.a.createElement("nav",{className:l.drawer,"aria-label":"mailbox folders"},o.a.createElement(fe.a,{mdUp:!0,implementation:"css"},o.a.createElement(ge.a,{container:g,variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:m,onClose:h,classes:{paper:l.drawerPaper},ModalProps:{keepMounted:!0}},o.a.createElement("div",{className:l.toolbar},o.a.createElement(Re.a,{style:{fontSize:30,margin:20},onClick:h})),o.a.createElement(he.a,{style:{backgroundColor:y.colors.primary.dark}}),F.isAdmin?o.a.createElement(je,{history:i,clicked:h}):o.a.createElement(Ye,{history:i,clicked:h}))),o.a.createElement(fe.a,{smDown:!0,implementation:"css"},o.a.createElement(ge.a,{classes:{paper:l.drawerPaper},variant:"permanent",open:!0},o.a.createElement("div",{className:l.toolbar}),o.a.createElement(he.a,{style:{backgroundColor:y.colors.primary.dark}}),F.isAdmin?o.a.createElement(je,{history:i,clicked:function(){}}):o.a.createElement(Ye,{history:i,clicked:function(){}})))),o.a.createElement("main",{className:l.content},o.a.createElement("div",{className:l.toolbar}),o.a.createElement("div",{style:{minHeight:"80%"}},n),o.a.createElement(se,null)))})),Qe={display:"flex",padding:5,minHeight:50,backgroundColor:"white",color:"black"},Ze={display:"flex",flex:1,justifyContent:"flex-start",alignItems:"center"},et={display:"flex",flex:1,justifyContent:"center",alignItems:"center"},tt={display:"flex",justifyContent:"flex-end",alignItems:"center"},at=function(e){var t=e.headerLeft,a=e.headerCenter,n=e.headerRight,r=e.containerStyle,i=e.leftContainerStyle,l=e.centerContainerStyle,c=e.rightContainerStyle,s=e.noCenter,d=Object(ne.a)(e,["headerLeft","headerCenter","headerRight","containerStyle","leftContainerStyle","centerContainerStyle","rightContainerStyle","noCenter"]);return o.a.createElement("div",Object.assign({style:Object(D.a)(Object(D.a)({},Qe),r)},d),o.a.createElement("div",{style:Object(D.a)(Object(D.a)({},Ze),i)},o.a.createElement("div",null,t)),!s&&o.a.createElement("div",{style:Object(D.a)(Object(D.a)({},et),l)},o.a.createElement("div",null,a)),o.a.createElement("div",{style:Object(D.a)(Object(D.a)({},tt),c)},n))},nt=at;at.defaultProps={headerLeft:o.a.createElement("div",null,"Left"),headerCenter:o.a.createElement("div",null,"Center"),headerRight:o.a.createElement("div",null,"Right"),noCenter:!1};var rt=function(e){var t=e.component,a=e.isAuthenticated,n=Object(ne.a)(e,["component","isAuthenticated"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(p.a,{to:{pathname:"/auth/login",state:{from:e.location,message:"Please login first!!!"}}})}}))},ot=function(e){var t=e.dividerStyle;return o.a.createElement(he.a,{style:Object(D.a)({width:50,backgroundColor:y.colors.error.main,height:10},t)})},it=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",showModal:!1,isLoading:!1,errorData:null},e.Login=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.setState({isLoading:!0,errorData:null});var o={username:n,password:r};$.login(o).then((function(e){})).catch((function(t){console.log("err",t),e.setState({isLoading:!1,errorData:t}),S.a.error(t.message||"Error Occured!!!")}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,r=t.showModal,i=t.isLoading,l=t.errorData;return o.a.createElement("div",{style:{backgroundColor:y.colors.primary.main,color:y.colors.primary.contrastText}},i&&o.a.createElement(ae,{containerStyle:{},overlay:!0}),o.a.createElement("table",{style:{width:"100%",height:"100vh"}},o.a.createElement("tr",{style:{textAlign:"center",verticalAlign:"middle",height:"100%"}},o.a.createElement("th",{style:{}},o.a.createElement(b.a,{maxWidth:"md"},o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},o.a.createElement("form",{className:"login-form",onSubmit:this.Login},o.a.createElement(E.a,{style:{backgroundColor:y.colors.primary.main,color:y.colors.primary.contrastText,padding:10}},l&&o.a.createElement(Z,{errorData:l}),o.a.createElement("div",{style:{marginTop:20}},o.a.createElement(v.a.Group,{className:"mb-2 text-left"},o.a.createElement(v.a.Label,null,o.a.createElement("small",null,"EMAIL/USERNAME *")),o.a.createElement(C.a,{type:"text",required:!0,autoFocus:!0,value:a,onChange:function(t){return e.setState({username:t.target.value})}})),o.a.createElement("div",null,o.a.createElement(v.a.Group,{className:"mb-2 text-left"},o.a.createElement(v.a.Label,null,o.a.createElement("small",null,"PASSWORD *")),o.a.createElement(C.a,{type:"password",required:!0,value:n,onChange:function(t){return e.setState({password:t.target.value.trim()})}})),o.a.createElement("small",{style:{textAlign:"right",cursor:"pointer",color:y.colors.text.grey},onClick:function(){return e.setState({showModal:!0})},className:"d-block"},"Forgot password?")),o.a.createElement(le,{square:!0,withIcon:!0,type:"submit",width:"100%",buttonStyle:{marginTop:20}},"LOGIN")))))))),o.a.createElement(se,null)),r?o.a.createElement(ce,{show:r,onHide:function(){return e.setState({showModal:!1})}}):null,o.a.createElement(ot,{dividerStyle:{position:"absolute",left:0,top:"30%"}}),o.a.createElement(ot,{dividerStyle:{position:"absolute",right:0,bottom:"20%"}}))}}]),a}(r.Component),lt=a(616),ct=a(625),st=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.variant,n=e.underlineColor,r=e.underlineWidth,i=Object(ne.a)(e,["children","variant","underlineColor","underlineWidth"]);return o.a.createElement("div",null,o.a.createElement("style",{jsx:!0},'\n          .underline {\n            text-decoration: none;\n            position: relative;\n            display: inline-block;\n            font-weight:bold;\n          }\n          .underline:after {\n            position: absolute;\n            content: "";\n            height: 2px;\n            /* adjust this to move up and down. you may have to adjust the line height of the paragraph if you move it down a lot. */\n            bottom: -2px;\n            /* center - (optional) use with adjusting width */\n            margin: 0 auto;\n            left: 0;\n            width: '.concat(r||"100%",";\n            background: ").concat(a?"primary"==a?y.colors.primary.dark:y.colors.secondary.dark:n||y.colors.error.main," ;\n            /* optional animation */\n            -o-transition: 0.5s;\n            -ms-transition: 0.5s;\n            -moz-transition: 0.5s;\n            -webkit-transition: 0.5s;\n            transition: 0.5s;\n          }\n        ")),o.a.createElement("div",Object.assign({className:"underline ".concat(i.customClassName)},i),t))}}]),a}(r.Component),dt=function(e){var t=e.name;return o.a.createElement("div",{style:{height:60,backgroundColor:y.colors.success.main,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:5,color:y.colors.success.contrastText}},o.a.createElement("h5",null,o.a.createElement("strong",null,"Good ",function(){var e=(new Date).getHours();return e<12?"Morning":e<18?"Afternoon":"Evening"}(),", ",t)))},mt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.location;return o.a.createElement("div",null,o.a.createElement(dt,{name:F.getCurrentUser.username}),o.a.createElement("div",{style:{marginTop:30}},o.a.createElement(st,{underlineWidth:"100%"},"ADMIN DASHBOARD"),o.a.createElement(lt.a,{noGutters:!0,style:{marginTop:40}},o.a.createElement(x.a,{xs:4,sm:4},o.a.createElement(ct.a,{className:"text-center cursor-pointer p-2 mr-2",style:{color:"black",backgroundColor:y.colors.background.grey,height:200},onClick:function(){return t.push("".concat(n.pathname,"/monitors/create-account"))}},o.a.createElement(ct.a.Body,{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("img",{src:a(318),style:{width:60}})),o.a.createElement("div",null,o.a.createElement("h5",{style:{color:y.colors.error.dark,fontWeight:"bold"}},"CREATE NEW USER"))))),o.a.createElement(x.a,{xs:4,sm:4},o.a.createElement(ct.a,{className:"text-center cursor-pointer p-2 mr-2",style:{color:"black",backgroundColor:y.colors.background.grey,height:200},onClick:function(){return t.push("".concat(n.pathname,"/companies"))}},o.a.createElement(ct.a.Body,{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("img",{src:a(319),style:{width:60}})),o.a.createElement("div",null,o.a.createElement("h5",{style:{color:y.colors.error.dark,fontWeight:"bold"}},"VIEW COMPANIES & SITES"))))),o.a.createElement(x.a,{xs:4,sm:4},o.a.createElement(ct.a,{className:"text-center cursor-pointer p-2",style:{color:"black",backgroundColor:y.colors.background.grey,height:200},onClick:function(){return t.push("".concat(n.pathname,"/monitors"))}},o.a.createElement(ct.a.Body,{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("img",{src:a(320),style:{width:60}})),o.a.createElement("div",null,o.a.createElement("h5",{style:{color:y.colors.error.dark,fontWeight:"bold"}},"VIEW & SCHEDULE MONITORS"))))))))}}]),n}(r.Component),ut=Object(ke.b)(mt),pt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).register=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.firstName,o=t.lastName,i=t.email,l=t.mobileNumber,c=t.address;n.setState({isLoading:!0,errorData:null});var s={username:a,email:i,firstName:r,lastName:o,mobileNumber:l,address:c};M.createMonitor(s).then((function(e){console.log(e),n.setState({isLoading:!1}),H.fetchAllMonitors(),S.a.success(e.message||"Monitor Created Successfully"),n.props.history.goBack()})).catch((function(e){console.log(e),n.setState({isLoading:!1,errorData:e}),S.a.error(e.message||"Error Occured!!!")}))},n.state={username:"",firstName:"",lastName:"",email:"",mobileNumber:"",isLoading:!1,errorData:null,address:{town:"",city:"",post_code:""}},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.firstName,r=t.lastName,i=t.email,l=t.mobileNumber,c=t.address,s=t.isLoading,d=t.errorData;return o.a.createElement("div",{style:{}},o.a.createElement(E.a,{style:{boxShadow:"none",transform:"scale(0.9)",padding:50,color:"white"}},s&&o.a.createElement(ae,{containerStyle:{},overlay:!0}),o.a.createElement(st,null,"CREATE USER"),o.a.createElement("div",{style:{marginTop:20}},o.a.createElement(v.a,{onSubmit:this.register},d?o.a.createElement(Z,{errorData:d}):null,o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"User Name"),o.a.createElement(v.a.Control,{value:a,onChange:function(t){e.setState({username:t.target.value})},type:"text",required:!0,style:{border:"1px solid black"}})),o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"First Name"),o.a.createElement(v.a.Control,{value:n,onChange:function(t){e.setState({firstName:t.target.value})},type:"text",required:!0,style:{border:"1px solid black"}}))),o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"Last Name"),o.a.createElement(v.a.Control,{value:r,onChange:function(t){e.setState({lastName:t.target.value})},type:"text",required:!0,style:{border:"1px solid black"}})),o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"Email Address"),o.a.createElement(v.a.Control,{value:i,onChange:function(t){e.setState({email:t.target.value})},type:"email",required:!0,style:{border:"1px solid black"}}))),o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"Mobile Number"),o.a.createElement(v.a.Control,{value:l,onChange:function(t){e.setState({mobileNumber:t.target.value})},type:"number",required:!0,style:{border:"1px solid black"}})),o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"Town"),o.a.createElement(v.a.Control,{value:c.town,onChange:function(t){e.setState({address:Object(D.a)(Object(D.a)({},c),{},{town:t.target.value})})},type:"text",required:!0,style:{border:"1px solid black"}}))),o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"City"),o.a.createElement(v.a.Control,{value:c.city,onChange:function(t){e.setState({address:Object(D.a)(Object(D.a)({},c),{},{city:t.target.value})})},type:"text",required:!0,style:{border:"1px solid black"}})),o.a.createElement(v.a.Group,{as:x.a},o.a.createElement(v.a.Label,{className:"text-uppercase"},"Post Code"),o.a.createElement(v.a.Control,{value:c.post_code,onChange:function(t){e.setState({address:Object(D.a)(Object(D.a)({},c),{},{post_code:t.target.value})})},type:"text",required:!0,style:{border:"1px solid black"}}))),o.a.createElement("div",{style:{textAlign:"center"},class:"mt-4"},o.a.createElement(le,{square:!0,type:"submit"},"ADD USER"))))))}}]),a}(r.Component),ht=a(14),gt=a(220),ft=a.n(gt),yt=function(e){var t=e.containerStyle,a=e.onClickTryAgain,n=e.message;return o.a.createElement(ct.a,{style:Object(D.a)({color:"red",minHeight:200,display:"flex",justifyContent:"center",alignItems:"center",padding:5},t)},n&&o.a.createElement("div",{style:{marginBottom:10}},o.a.createElement("p",null,n)),o.a.createElement(le,{backgroundColor:y.colors.error.main,onClick:a},"TRY AGAIN"))},bt=a(469),Et=a(102),vt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).createCustomExportCSVButtonWithOtherOption=function(e){return o.a.createElement(bt.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{backgroundColor:y.colors.success.main}},o.a.createElement(Et.a,{style:{backgroundColor:y.colors.success.main},onClick:function(){return H.fetchAllMonitors()}},"Refresh"))},n.state={},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;if(H.isLoading)return o.a.createElement(ae,null);var t={exportCSVBtn:this.createCustomExportCSVButtonWithOtherOption,page:1,sizePerPageList:[{text:"1",value:1},{text:"5",value:5},{text:"All",value:H.convertAndGetTableData.length}],sizePerPage:5,pageStartIndex:1,paginationSize:3,prePage:"Prev",nextPage:"Next",firstPage:"First",lastPage:"Last",paginationPosition:"bottom"};return o.a.createElement("div",null,o.a.createElement(nt,{containerStyle:{backgroundColor:"transparent",marginBottom:20,color:"white"},noCenter:!0,headerLeft:o.a.createElement(st,{customClassName:"text-uppercase"},"Monitors List"),headerRight:o.a.createElement(le,{square:!0,withIcon:!0,customMUIcon:o.a.createElement(ft.a,null),width:"70%",onClick:function(){return e.props.history.push("/dashboard/monitors/add-schedule")}},"SCHEDULE MONITOR"),rightContainerStyle:{flex:1}}),H.isError?o.a.createElement(yt,{onClickTryAgain:function(){return H.fetchAllMonitors()}}):o.a.createElement(ht.BootstrapTable,{version:"4",data:H.convertAndGetTableData,options:t,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,exportCSV:!0,tableStyle:{backgroundColor:"whitesmoke"},trStyle:{color:"black"},tableHeaderClass:"table-head-rb"},o.a.createElement(ht.TableHeaderColumn,{width:"70",dataSort:!0,isKey:!0,dataField:"sn"},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"username"},"UserName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"firstName"},"FirstName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"lastName"},"LastName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"300",dataSort:!0,dataField:"email"},"Email"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"mobileNumber"},"Phone"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.town",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.town}},"Town"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.city",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.city}},"City"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.post_code",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.post_code}},"PostCode"),o.a.createElement(ht.TableHeaderColumn,{width:"150",dataField:"action",export:!1,dataFormat:function(e,t){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"left",flexWrap:"wrap"}},o.a.createElement(c.b,{to:"/dashboard/monitors/add-schedule?monitor_id=".concat(t._id)},o.a.createElement(le,{width:"100%"},o.a.createElement("small",null,"SCHEDULE"))))}},"Action")))}}]),a}(r.Component),Ct=Object(ke.b)(vt),St=a(620),kt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).createCustomExportCSVButtonWithOtherOption=function(e){return o.a.createElement(bt.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{backgroundColor:y.colors.success.main}},o.a.createElement(Et.a,{style:{backgroundColor:y.colors.success.main},onClick:function(){return q.fetchAllCompanies()}},"Refresh"))},n.state={},n}return Object(d.a)(a,[{key:"render",value:function(){if(q.isLoading)return o.a.createElement(ae,null);var e={exportCSVBtn:this.createCustomExportCSVButtonWithOtherOption,sizePerPageDropDown:function(e){return o.a.createElement(St.a,null,o.a.createElement(St.a.Toggle,{variant:"light",id:"dropdown-basic"},e.currSizePerPage||10),o.a.createElement(St.a.Menu,null,[10,25,50,100].map((function(t,a){return o.a.createElement(St.a.Item,{key:a,onClick:function(){return e.changeSizePerPage(t)}},t)}))))}};return o.a.createElement("div",null,o.a.createElement(st,{customClassName:"text-uppercase"},"Companies List"),q.isError?o.a.createElement(yt,{onClickTryAgain:function(){return q.fetchAllCompanies()}}):o.a.createElement("div",{style:{marginTop:10}},o.a.createElement(ht.BootstrapTable,{version:"4",data:q.convertAndGetTableData,options:e,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,exportCSV:!0,tableStyle:{backgroundColor:"whitesmoke"},trStyle:{color:"black"},tableHeaderClass:"table-head-rb"},o.a.createElement(ht.TableHeaderColumn,{width:"70",dataSort:!0,isKey:!0,dataField:"sn"},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"name"},"Name"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"300",dataSort:!0,dataField:"email"},"Email"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"Mobile_phones"},"Mobile Phone"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"land_phones"},"Land Phone"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.town",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.town}},"Town"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.city",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.city}},"City"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"address.post_code",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.post_code}},"Post Code"),o.a.createElement(ht.TableHeaderColumn,{width:"100",dataField:"action",export:!1,dataFormat:function(e,t){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"left",flexWrap:"wrap"}},o.a.createElement(c.b,{to:{pathname:"/dashboard/companies/company-viewer",search:"?company_id=".concat(t._id)}},"VIEW SITES"))}},"Action"))))}}]),a}(r.Component),xt=Object(ke.b)(kt),wt=a(121),Ot=a.n(wt),Lt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"render",value:function(){if(q.isLoading)return o.a.createElement(ae,null);var e=this.props,t=(e.history,e.location),a=Ot.a.parse(t.search).company_id,n=q.getAllCompanies.find((function(e){return e._id==a})),r={sizePerPageDropDown:function(e){return o.a.createElement(St.a,null,o.a.createElement(St.a.Toggle,{variant:"light",id:"dropdown-basic"},e.currSizePerPage||10),o.a.createElement(St.a.Menu,null,[10,25,50,100].map((function(t,a){return o.a.createElement(St.a.Item,{key:a,onClick:function(){return e.changeSizePerPage(t)}},t)}))))}};return o.a.createElement("div",null,o.a.createElement(nt,{containerStyle:{backgroundColor:"transparent",color:"white",marginBottom:20},noCenter:!0,headerLeft:o.a.createElement(st,{underlineWidth:"100%"},n.name," SITES"),headerRight:null,rightContainerStyle:{flex:1}}),o.a.createElement(ht.BootstrapTable,{version:"4",data:n.site_list.map((function(e,t){return e.sn=t+1,e})),options:r,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,tableStyle:{backgroundColor:"whitesmoke"},tableHeaderClass:"table-head-rb",trStyle:{color:"black"}},o.a.createElement(ht.TableHeaderColumn,{width:"70",dataSort:!0,isKey:!0,dataField:"sn"},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataFormat:function(e,t){return"Construction Site"}},"Type"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"site_name"},"Site"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"company",dataFormat:function(e,t){return n.name}},"Company"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"postcode",dataFormat:function(e,t){var a;return null===(a=t.address)||void 0===a?void 0:a.post_code}},"Postcode"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"contactName"},"Contact Name"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"contactNumber"},"Contact Number"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"contactEmail"},"Contact Email")))}}]),a}(r.Component),jt=Object(ke.b)(Lt),Nt=a(628),It=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;e.preventDefault(),alert(t)},n.state={email:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;this.state.email;return o.a.createElement(k.a,Object.assign({},this.props,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(k.a.Header,{closeButton:!0,style:{padding:20,backgroundColor:y.colors.primary.dark,color:"white"}},o.a.createElement(k.a.Title,{id:"contained-modal-title-vcenter"},"Assign Visit to monitor_name?")),o.a.createElement(k.a.Body,{style:{padding:20,backgroundColor:y.colors.primary.dark,color:y.colors.textColor}},o.a.createElement(v.a,{onSubmit:this.onSubmit},o.a.createElement(v.a.Row,null,o.a.createElement(v.a.Group,{as:x.a,controlId:"yes"},o.a.createElement(re.a,{style:{backgroundColor:"white",color:"black",border:"none",float:"right",width:100,marginRight:"20px"}},"Yes")),o.a.createElement(v.a.Group,{as:x.a,controlId:"no"},o.a.createElement(re.a,{style:{backgroundColor:"white",color:"black",border:"none",width:100,marginLeft:"20px"},onClick:function(){return e.props.onHide()}},"No"))))))}}]),a}(r.Component),Tt={trCustomStyle:{backgroundColor:"black"}},At=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={showModal:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=[{sn:1,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:2,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:3,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:4,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:5,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:6,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:7,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:8,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:9,username:"User_name",firstName:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:10,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:11,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:12,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:13,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:14,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:15,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:16,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"},{sn:17,username:"User_name",firstNam:"First_name",lastName:"Last_name",email:"abc@gmail.com",phone:"9853352636"}],a={exportCSVBtn:function(e){return o.a.createElement(ht.ExportCSVButton,{btnText:"Export",style:{backgroundColor:y.colors.action_color,outline:"none",border:"none"}})},page:1,sizePerPageList:[{text:"1",value:1},{text:"5",value:5},{text:"All",value:t.length}],sizePerPage:5,pageStartIndex:1,paginationSize:3,prePage:"Prev",nextPage:"Next",firstPage:"First",lastPage:"Last",paginationPosition:"bottom"},n=(this.props.classes,this.state.showModal);return o.a.createElement("div",null,o.a.createElement(ct.a,{style:{padding:20}},o.a.createElement(Nt.a,null,o.a.createElement(Nt.a.Item,{active:!0}," company_name ",o.a.createElement("i",{className:"fa fa-arrow-right"})," site_name ",o.a.createElement("i",{className:"fa fa-arrow-right"})," Monitor List")),o.a.createElement(ht.BootstrapTable,{version:"4",data:t,options:a,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,csvFileName:"monitors.csv",trStyle:{},trClassName:function(e,t){return t%2===0?Tt.trCustomStyle:""}},o.a.createElement(ht.TableHeaderColumn,{thStyle:{},width:"70",dataSort:!0,isKey:!0,dataField:"sn"},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"username"},"UserName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"firstName"},"FirstName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"lastName"},"LastName"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"email"},"Email"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataField:"phone"},"Phone"),o.a.createElement(ht.TableHeaderColumn,{thStyle:{},width:"100",dataField:"action",export:!1,dataFormat:function(t,a){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"left",flexWrap:"wrap"}},o.a.createElement("i",{title:"Assign",className:"fa  fa-tasks",style:{color:y.colors.action_color,fontSize:20,cursor:"pointer"},onClick:function(){return e.setState({showModal:!0})}}))}},"Action"))),n?o.a.createElement(It,{show:n,onHide:function(){return e.setState({showModal:!1})}}):null)}}]),a}(r.Component),Ft=a(630),Dt=a(172),Pt=a.n(Dt),_t=a(359),Rt=a.n(_t),Mt=a(360),Ut=a.n(Mt),Ht=function(e){var t=e.number,a=e.borderColor,n=e.textColor,r=e.backgroundColor,i=e.containerStyle,l=Object(ne.a)(e,["number","borderColor","textColor","backgroundColor","containerStyle"]);return o.a.createElement("div",Object.assign({className:"cursor-pointer",style:Object(D.a)({height:40,width:40,border:"2px solid ".concat(a||"red"),backgroundColor:r||"none",color:n||"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,fontSize:18,borderRadius:5,padding:5},i)},l),o.a.createElement("div",null,t))},Wt=a(224),Bt=Object(Ce.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function zt(e){var t=e.children,a=e.headerComponent,n=e.paperStyle,r=e.headerContainerStyle,i=(Object(ne.a)(e,["children","headerComponent","paperStyle","headerContainerStyle"]),Bt(),o.a.useState(null)),l=Object(de.a)(i,2),c=l[0],s=l[1];return o.a.createElement("div",null,o.a.createElement("div",{style:Object(D.a)({cursor:"pointer",display:"inline-block"},r),onClick:function(e){s(e.currentTarget)}},a),o.a.createElement(Wt.a,{open:Boolean(c),anchorEl:c,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{style:Object(D.a)({padding:10,width:"50%"},n)}},t))}var Vt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.listCount,a=e.question,n=e.children,r=e.containerStyle,i=e.rowContainerStyle;e.open;return o.a.createElement(ct.a,{style:Object(D.a)({color:"black",paddingBottom:5},r)},o.a.createElement("div",{style:{padding:5,backgroundColor:y.colors.background.grey,display:"flex",alignItems:"center"}},o.a.createElement("div",null,o.a.createElement("span",{style:{fontSize:18,color:y.colors.success.main,marginRight:5,fontWeight:"bold"}},t),a)),o.a.createElement("div",{style:Object(D.a)({paddingLeft:10,paddingRight:10,paddingTop:5},i),className:"disable-scrollbars"},(null===n||void 0===n?void 0:n.length)>1?n.map((function(e,t){return o.a.cloneElement(e,{containerStyle:{backgroundColor:t%2==1?y.colors.background.grey:"none"}})})):n))}}]),a}(r.Component);Vt.RowItem=function(e){var t,a,n=e.item,i=e.section,l=e.label,c=e.onClickScore,s=e.onClickAddComment,d=e.onClickTakePhoto,m=e.containerStyle,u=e.score,p=(e.open,Object(r.useState)(!1)),h=Object(de.a)(p,2),g=h[0],f=h[1],b=Object(r.useRef)(),E=function(e){var t=e.target.files[0],a=new FormData;a.append("image",t),f(!0),R.checkListFileUpload(a).then((function(e){d(e.path),f(!1)})).catch((function(e){f(!1),S.a.error(e.message||"Error File Uploading")}))};return o.a.createElement(nt,{containerStyle:Object(D.a)({paddingLeft:25,paddingRight:20,marginBottom:5,backgroundColor:y.colors.background.grey,flexWrap:"wrap"},m),headerLeft:o.a.createElement("small",null,l),headerCenter:"CORONAVIRUS"==(null===(t=i.name)||void 0===t?void 0:t.toUpperCase())||"CORONAVIRUS "==(null===(a=i.name)||void 0===a?void 0:a.toUpperCase())?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ht,{number:o.a.createElement("small",null,"YES"),borderColor:y.colors.success.main,textColor:"YES"==u?y.colors.success.contrastText:y.colors.success.main,backgroundColor:"YES"==u?y.colors.success.main:"transparent",containerStyle:{marginRight:20},onClick:function(){return c("YES")}}),o.a.createElement(Ht,{number:o.a.createElement("small",null,"NO"),borderColor:y.colors.warning.main,textColor:"NO"==u?y.colors.warning.contrastText:y.colors.warning.main,backgroundColor:"NO"==u?y.colors.warning.main:"transparent",containerStyle:{marginRight:20},onClick:function(){return c("NO")}}),o.a.createElement(Ht,{number:o.a.createElement("small",null,"N/A"),borderColor:y.colors.black,textColor:"N/A"==u?y.colors.white:y.colors.black,backgroundColor:"N/A"==u?y.colors.black:"transparent",containerStyle:{marginRight:20},onClick:function(){return c("N/A")}})):o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Ht,{number:1,borderColor:y.colors.error.main,textColor:"1"==u?y.colors.error.contrastText:y.colors.error.main,backgroundColor:"1"==u?y.colors.error.main:"transparent",containerStyle:{marginRight:20},onClick:function(){return c(1)}}),o.a.createElement(Ht,{number:2,borderColor:y.colors.warning.main,textColor:"2"==u?y.colors.warning.contrastText:y.colors.warning.main,backgroundColor:"2"==u?y.colors.warning.main:"transparent",containerStyle:{marginRight:20},onClick:function(){return c(2)}}),o.a.createElement(Ht,{number:3,borderColor:y.colors.warning.light,textColor:"3"==u?y.colors.warning.contrastText:y.colors.warning.light,backgroundColor:"3"==u?y.colors.warning.light:"transparent",containerStyle:{marginRight:20},onClick:function(){return c(3)}}),o.a.createElement(Ht,{number:4,borderColor:y.colors.success.main,textColor:"4"==u?y.colors.success.contrastText:y.colors.success.main,backgroundColor:"4"==u?y.colors.success.main:"transparent",containerStyle:{marginRight:20},onClick:function(){return c(4)}}),o.a.createElement(Ht,{number:o.a.createElement("small",null,"N/A"),borderColor:y.colors.black,textColor:"N/A"==u?y.colors.white:y.colors.black,backgroundColor:"N/A"==u?y.colors.black:"transparent",containerStyle:{marginRight:20},onClick:function(){return c("N/A")}})),headerRight:o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(zt,{headerComponent:o.a.createElement(re.a,{size:"sm",style:{padding:3,marginRight:5,border:"1px solid black",backgroundColor:"white",color:"black"}},o.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement(Pt.a,{style:{padding:0,display:"inline-block",textAlign:"center",fontSize:16}}),o.a.createElement("span",{style:{fontSize:8,padding:0,display:"inline-block"}},"ADD COMMENT")))},o.a.createElement(v.a.Group,{controlId:"exampleForm.addComment"},o.a.createElement(v.a.Label,null,"Comment"),o.a.createElement(v.a.Control,{defaultValue:n.comment,ref:b,as:"textarea",rows:"3"})),o.a.createElement(le,{square:!0,onClick:function(){return s(b.current.value)}},"Save")),o.a.createElement(zt,{headerComponent:o.a.createElement(re.a,{size:"sm",style:{padding:3,marginRight:5,border:"1px solid black",backgroundColor:"white",color:"black"}},o.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement(Rt.a,{style:{padding:0,display:"inline-block",textAlign:"center",fontSize:16}}),o.a.createElement("span",{style:{fontSize:8,padding:0,display:"inline-block"}},"ADD PHOTO")))},g?o.a.createElement(ae,{title:"Uploading file...",containerStyle:{height:100}}):o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("div",{className:"d-flex justify-content-around",style:Object(me.a)({border:"1px solid ".concat(y.colors.success.main),borderRadius:"2px",paddingTop:"4px"},"borderRadius",10)},o.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!0,type:"file",onChange:E}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(Et.a,{variant:"contained",color:"primary",component:"span",style:{backgroundColor:y.colors.success.main}},"Upload")),o.a.createElement("input",{accept:"image/*;capture=camera",style:{display:"none"},id:"icon-button-file",type:"file",onChange:E}),o.a.createElement("label",{htmlFor:"icon-button-file"},o.a.createElement(Et.a,{variant:"contained",color:"primary",component:"div",style:{backgroundColor:y.colors.success.main,display:"inline-block",marginRight:5}},"Camera")))),o.a.createElement("div",{style:{marginTop:5,border:"1px solid ".concat(y.colors.success.main),padding:5,minHeight:50,borderRadius:10}},o.a.createElement("div",{style:{marginBottom:5}},"Images"),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.photoPath.map((function(e,t){return o.a.createElement("div",{className:"mr-2 mt-1",key:t},o.a.createElement("div",{style:{height:100,width:100}},o.a.createElement("img",{src:"".concat(L).concat(e),alt:"Image",style:{maxWidth:"100%",height:"auto"}})))})))))),o.a.createElement(zt,{headerComponent:o.a.createElement(re.a,{size:"sm",style:{padding:3,border:"1px solid black",backgroundColor:"white",color:"black"}},o.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},o.a.createElement(Ut.a,{style:{padding:0,display:"inline-block",textAlign:"center",fontSize:16}}),o.a.createElement("span",{style:{fontSize:8,padding:0,display:"inline-block"}},"ADD DOCUMENT")))},g?o.a.createElement(ae,{title:"Uploading file...",containerStyle:{height:100}}):o.a.createElement("div",null,o.a.createElement("center",null,o.a.createElement("div",{className:"d-flex justify-content-around",style:Object(me.a)({border:"1px solid ".concat(y.colors.success.main),borderRadius:"2px",paddingTop:"4px"},"borderRadius",10)},o.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!0,type:"file",onChange:E}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(Et.a,{variant:"contained",color:"primary",component:"span",style:{backgroundColor:y.colors.success.main}},"Upload")),o.a.createElement("input",{accept:"image/*;capture=camera",style:{display:"none"},id:"icon-button-file",type:"file",onChange:E}),o.a.createElement("label",{htmlFor:"icon-button-file"},o.a.createElement(Et.a,{variant:"contained",color:"primary",component:"div",style:{backgroundColor:y.colors.success.main,display:"inline-block",marginRight:5}},"Camera")))),o.a.createElement("div",{style:{marginTop:5,border:"1px solid ".concat(y.colors.success.main),padding:5,minHeight:50,borderRadius:10}},o.a.createElement("div",{style:{marginBottom:5}},"Images"),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.photoPath.map((function(e,t){return o.a.createElement("div",{className:"mr-2 mt-1",key:t},o.a.createElement("div",{style:{height:100,width:100}},o.a.createElement("img",{src:"".concat(L).concat(e),alt:"Image",style:{maxWidth:"100%",height:"auto"}})))}))))))),leftContainerStyle:{flex:"none",width:"20%",marginRight:15},centerContainerStyle:{justifyContent:"flex-start",flex:1},rightContainerStyle:{}})};var qt=Vt;Vt.defaultProps={listCount:1.1,question:"Does the external appearance of the site present a positive image of the industry?"};var Gt=a(361),Yt=a.n(Gt),Kt=a(375),Jt=a(617),Xt=a(626),$t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).createCustomExportCSVButtonWithOtherOption=function(e){return o.a.createElement(bt.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",style:{backgroundColor:y.colors.success.main}},o.a.createElement(Et.a,{style:{backgroundColor:y.colors.success.main},onClick:function(){return H.fetchAllAssignedSitesForCurrentMonitor()}},"Refresh"))},n.onClickDateSchedule=function(e){e.preventDefault();var t=n.state,a=t.currentSelectedSite,r=t.visit_date,o=t.visit_time;n.setState({isLoading:!0,errorData:null}),R.updateCheckListForId(a._id,Object(D.a)(Object(D.a)({},a),{},{date_of_visit:r,time_of_visit:o})).then((function(e){S.a.success(e.message||"Schduled Successfully"),H.fetchAllAssignedSitesForCurrentMonitor(),n.setState({visit_date:new Date,visit_time:new Date,isLoading:!1})})).catch((function(e){console.log("Error",e),S.a.error(e.message||"Error while scheduling"),n.setState({isLoading:!1,errorData:e})}))},n.state={visit_date:new Date,visit_time:new Date,errorData:null,currentSelectedSite:null},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.visit_date,n=t.visit_time,r=t.errorData,i=t.isLoading;t.currentSelectedSite,this.props.classes;if(H.isLoading||i)return o.a.createElement(ae,null);var l={exportCSVBtn:this.createCustomExportCSVButtonWithOtherOption,sizePerPageDropDown:function(e){return o.a.createElement(St.a,null,o.a.createElement(St.a.Toggle,{variant:"light",id:"dropdown-basic"},e.currSizePerPage||10),o.a.createElement(St.a.Menu,null,[10,25,50,100].map((function(t,a){return o.a.createElement(St.a.Item,{key:a,onClick:function(){return e.changeSizePerPage(t)}},t)}))))}};return o.a.createElement("div",null,o.a.createElement(dt,{name:F.getCurrentUser.username}),o.a.createElement(nt,{containerStyle:{backgroundColor:"transparent",color:"white",marginBottom:20},noCenter:!0,headerLeft:o.a.createElement(st,{underlineWidth:"100%"},"ASSIGNED SITE VISITS"),headerRight:null,rightContainerStyle:{flex:1}}),H.isError?o.a.createElement(yt,{onClickTryAgain:function(){return H.fetchAllAssignedSitesForCurrentMonitor()}}):o.a.createElement(ht.BootstrapTable,{version:"4",data:H.convertAndGetTableDataOfAssignedSites(),options:l,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,tableStyle:{backgroundColor:"whitesmoke"},tableHeaderClass:"table-head-rb",exportCSV:!0,trStyle:{color:"black"}},o.a.createElement(ht.TableHeaderColumn,{width:"70",dataSort:!0,isKey:!0,dataField:"sn"},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataFormat:function(e,t){return"Construction Site"}},"Type"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataFormat:function(e,t){var a;return null===(a=t.siteId)||void 0===a?void 0:a.site_name}},"Site"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"company",dataFormat:function(e,t){var a;return null===(a=t.companyId)||void 0===a?void 0:a.name}},"Company"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"postcode",dataFormat:function(e,t){var a,n;return null===(a=t.siteId)||void 0===a||null===(n=a.address)||void 0===n?void 0:n.post_code}},"Postcode"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"estimate",dataFormat:function(t,i){var l=i.date_of_visit?Object(Kt.a)(new Date(i.date_of_visit),"MM/dd/yyyy"):o.a.createElement("div",null,"Select Date ",o.a.createElement(Yt.a,null));return o.a.createElement(zt,{headerComponent:o.a.createElement("div",{onClick:function(){e.setState({currentSelectedSite:i,visit_date:i.date_of_visit?i.date_of_visit:new Date,visit_time:i.time_of_visit?i.time_of_visit:new Date})}},l),paperStyle:{padding:5,backgroundColor:y.colors.background.grey,width:"50%"}},o.a.createElement(b.a,{style:{backgroundColor:y.colors.primary.main,color:"white",padding:10}},o.a.createElement(st,{customClassName:"text-uppercase"},"Select Date"),o.a.createElement(v.a,{onSubmit:e.onClickDateSchedule,style:{marginTop:30}},r?o.a.createElement(Z,{errorData:r}):null,o.a.createElement(lt.a,null,o.a.createElement(x.a,null,o.a.createElement(v.a.Group,{controlId:"exampleForm.ControlSelect4"},o.a.createElement(v.a.Label,null,"VISIT DATE"),o.a.createElement(v.a.Control,{required:!0,as:Jt.a,disableToolbar:!0,variant:"inline",id:"date-picker-inline",value:a,onChange:function(t){return e.setState({visit_date:t})},KeyboardButtonProps:{style:{color:y.colors.success.main}},InputProps:{disableUnderline:!0,paddingLeft:2,paddingBottom:0},style:{paddingLeft:5,paddingBottom:-10},format:"MM/dd/yyyy"}))),o.a.createElement(x.a,null,o.a.createElement(v.a.Group,{controlId:"exampleForm.ControlSelect5"},o.a.createElement(v.a.Label,null,"TIME"),o.a.createElement(v.a.Control,{required:!0,as:Xt.a,variant:"inline",value:n,onChange:function(t){return e.setState({visit_time:t})},KeyboardButtonProps:{style:{color:y.colors.success.main}},InputProps:{disableUnderline:!0,paddingLeft:2,paddingBottom:0},style:{paddingLeft:5,paddingBottom:-10}})))),o.a.createElement("div",{style:{textAlign:"center",marginTop:5}},o.a.createElement(le,{square:!0,type:"submit"},"SAVE")))))}},"Estimate"),o.a.createElement(ht.TableHeaderColumn,{width:"100",dataField:"action",export:!1,dataFormat:function(t,a){return o.a.createElement("div",null,a.date_of_visit?o.a.createElement("div",{onClick:function(){H.selectedAssignedSite=a,B.setCheckList(a),e.props.history.push("/dashboard/todo/checklist?checklist_id=".concat(a._id))}},o.a.createElement(Ft.a,{style:{color:y.colors.success.main,marginRight:8,cursor:"pointer"}})):o.a.createElement("div",{onClick:function(){}},o.a.createElement(Ft.a,{style:{color:y.colors.custom.grey[500],marginRight:8}})))}},"Action")))}}]),a}(r.Component),Qt=Object(Ne.a)({modal:{margin:70,width:"30wh",height:"50vh",padding:50,backgroundColor:"#232323",justifyContent:"center",alignItems:"center",color:"#FFFFFF"}})(Object(ke.b)($t)),Zt=a(629),ea=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={hover:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.hover,n=this.props,r=n.icon,i=n.sectionName,l=n.title,c=n.isComplete,s=n.containerStyle,d=Object(ne.a)(n,["icon","sectionName","title","isComplete","containerStyle"]);return c?o.a.createElement(ct.a,Object.assign({className:"cursor-pointer",style:Object(D.a)({backgroundColor:y.colors.success.main,height:200},s)},d),o.a.createElement(ct.a.Body,null,o.a.createElement("div",{className:"text-center font-weight-bold d-flex justify-content-center align-items-center p-5"},o.a.createElement("div",null,o.a.createElement("small",{style:{fontWeight:"bold",color:"white",textTransform:"uppercase",fontSize:16}},i),o.a.createElement("h5",{style:{fontWeight:"bold",color:"white",textTransform:"uppercase"}},"Complete")))),o.a.createElement("div",{className:"text-center p-2",style:{backgroundColor:y.colors.success.light}},o.a.createElement("div",null,o.a.createElement(Pt.a,null)," EDIT"))):o.a.createElement(ct.a,Object.assign({className:"d-flex justify-content-center align-items-center cursor-pointer p-5",onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})},style:Object(D.a)({backgroundColor:t?y.colors.success.main:null,height:200},s)},d),o.a.createElement("div",{className:"text-center font-weight-bold"},o.a.createElement("div",{style:{fontSize:40,marginBottom:10,color:"white",display:"inline"}},t?o.a.createElement(ie.a,null):r&&o.a.createElement("img",{src:a(483)("./".concat(r)),style:{width:60}})),o.a.createElement("div",null,o.a.createElement("small",{style:{fontWeight:"bold",color:t?"white":"grey",textTransform:"uppercase"}},i),o.a.createElement("h5",{style:{fontWeight:"bold",color:t?"white":y.colors.error.main,textTransform:"uppercase"}},l))))}}]),n}(r.Component),ta=a(222),aa=a.n(ta),na=a(223),ra=a.n(na),oa=function(e){var t=e.containerStyle;return o.a.createElement("div",{style:Object(D.a)({marginTop:5},t)},o.a.createElement(Et.a,{variant:"contained",color:"primary",size:"small",startIcon:o.a.createElement(aa.a,null),style:{marginRight:10,backgroundColor:y.colors.success.main},onClick:function(){return B.uploadCurrentCheckList()}},"SAVE"),o.a.createElement(Et.a,{variant:"contained",color:"default",size:"small",startIcon:o.a.createElement(ra.a,null),onClick:function(){return B.submitCurrentCheckList()}},"SUBMIT"))},ia=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={checklist_id:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Ot.a.parse(this.props.location.search);e.checklist_id&&this.setState({checklist_id:e.checklist_id})}},{key:"render",value:function(){var e=this;this.state.checklist_id;return H.isLoading||B.isLoading?o.a.createElement(ae,null):o.a.createElement("div",null,o.a.createElement("div",{className:"mt-3"},o.a.createElement(dt,{name:F.getCurrentUser.username}),o.a.createElement(nt,{containerStyle:{backgroundColor:"transparent",marginBottom:20,marginTop:20,color:"white"},noCenter:!0,headerLeft:o.a.createElement(st,{customClassName:"text-uppercase"},"THE CHECKLIST"),headerRight:o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(te.a,{style:{textAlign:"right"}},o.a.createElement("span",{style:{color:"white"}},"CHECKLIST:")," ",o.a.createElement("span",{style:{color:"white"}},B.getTotalCompletedPercentage,"% completed")),o.a.createElement(Zt.a,{variant:"success",now:B.getTotalCompletedPercentage,style:{borderRadius:10,height:10}}),o.a.createElement(oa,{containerStyle:{textAlign:"right"}})),rightContainerStyle:{flex:3}})),o.a.createElement("div",null,o.a.createElement(lt.a,{noGutters:!0},B.getCheckList.isCoronaCheckRequired?B.getCheckList.checkListData.checkListData.map((function(t,a){return o.a.createElement(x.a,{xs:12,sm:4},o.a.createElement(ea,{icon:t.icon,isComplete:t.isComplete,sectionName:"SECTION ".concat(t.id),title:t.name,onClick:function(){B.setSelectedSectionIndex(a),e.props.history.push("/dashboard/todo/checklist/checklist-section-viewer")},containerStyle:{marginTop:5,marginRight:5}}))})):B.getCheckList.checkListData.checkListData.filter((function(e){return"CORONAVIRUS"!==e.name.toUpperCase()})).map((function(t,a){return o.a.createElement(x.a,{xs:12,sm:4},o.a.createElement(ea,{icon:t.icon,isComplete:t.isComplete,sectionName:"SECTION ".concat(t.id),title:t.name,onClick:function(){B.setSelectedSectionIndex(a),e.props.history.push("/dashboard/todo/checklist/checklist-section-viewer")},containerStyle:{marginTop:5,marginRight:5}}))})))))}}]),a}(r.Component),la=Object(ke.b)(ia),ca=a(376),sa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null,imageCLicked:!1,text:"",selectedImage:null},e.renderContent=function(){var t=e.state.open;if(B.selectedStepperIndexInsideSection<0)return"CORONAVIRUS"==B.getSelectedSection.name.toUpperCase()?o.a.createElement(b.a,{maxWidth:"sm"},o.a.createElement("h6",null,"To answer the questions, please use the scoring system below:"),o.a.createElement(Be,{score:o.a.createElement("small",null,"YES"),text:"These are in place",scoreContainerStyle:{backgroundColor:y.colors.success.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:o.a.createElement("small",null,"NO"),text:"These are not in place ",scoreContainerStyle:{backgroundColor:y.colors.error.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:o.a.createElement("small",null,"N/A"),text:"Not applicable",scoreContainerStyle:{backgroundColor:y.colors.error.main},containerStyle:{marginBottom:5}})):o.a.createElement(b.a,{maxWidth:"sm"},o.a.createElement("h6",null,"To answer the questions, please use the scoring system below:"),o.a.createElement(Be,{score:1,text:"Not meeting the minimum standards of the Scheme code",scoreContainerStyle:{backgroundColor:y.colors.error.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:2,text:"Meeting compliance standards of the Scheme",scoreContainerStyle:{backgroundColor:y.colors.warning.main},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:3,text:"Meeting beyond compliance standards of the Scheme",scoreContainerStyle:{backgroundColor:y.colors.warning.light},containerStyle:{marginBottom:5}}),o.a.createElement(Be,{score:4,text:"Demonstrating good practice & above the Scheme standards",scoreContainerStyle:{backgroundColor:y.colors.success.main},containerStyle:{marginBottom:5}}));if(B.selectedStepperIndexInsideSection>B.getSelectedSection.children.length-1)return B.makeSelectedSectionCompleted(),o.a.createElement("center",null,o.a.createElement(ct.a,{style:{backgroundColor:y.colors.success.main,display:"flex",justifyContent:"center",alignItems:"center",flex:1,width:"70%"}},o.a.createElement(ct.a.Body,null,o.a.createElement("div",{className:"text-center font-weight-bold d-flex justify-content-center align-items-center p-5"},o.a.createElement("div",null,o.a.createElement("small",{style:{fontWeight:"bold",color:"white",textTransform:"uppercase",fontSize:20}},"SECTION ".concat(B.getSelectedSection.id)),o.a.createElement("h5",{style:{fontWeight:"bold",color:"white",textTransform:"uppercase",fontSize:25}},"Complete"))))));var a=B.getCurrentStepperContent,n=B.getSelectedSection;return o.a.createElement(qt,{listCount:a.id,question:a.question},a.options.map((function(e,a){return o.a.createElement(qt.RowItem,{section:n,item:e,label:e.name,onClickScore:function(t){B.updateOptionValueForName(e.name,[{key:"score",value:t},{key:"isComplete",value:!0}])},onClickAddComment:function(t){document.body.click(),B.updateOptionValueForName(e.name,[{key:"comment",value:t}])},onClickTakePhoto:function(t){B.updateOptionValueForName(e.name,[{key:"photoPath",value:[].concat(Object(ca.a)(e.photoPath),[t])}])},score:e.score,open:t})})))},e.renderFooter=function(){return B.selectedStepperIndexInsideSection<0?o.a.createElement("center",null,o.a.createElement(le,{withIcon:!0,square:!0,onClick:function(){return B.incrementStepper()}},"START")):B.selectedStepperIndexInsideSection>B.getSelectedSection.children.length-1?o.a.createElement("center",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(le,{square:!0,buttonStyle:{marginRight:5,backgroundColor:"transparent"},onClick:function(){e.props.history.goBack()}},"BACK TO MAIN MENU"),!B.isLastItem()&&o.a.createElement(le,{withIcon:!0,square:!0,onClick:function(){B.setNextSection()}},"START SECTION ",B.getSelectedSection.id+1))):o.a.createElement("center",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(le,{square:!0,buttonStyle:{marginRight:5,backgroundColor:"transparent"},onClick:function(){return B.decrementStepper()}},"BACK"),o.a.createElement(le,{disabled:!B.isSelectedSectionStepperOptionsFinished(),withIcon:!0,square:!0,onClick:function(){B.makeCurrentStepperContentCompleted(),B.incrementStepper()}},"NEXT")))},e}return Object(d.a)(a,[{key:"render",value:function(){var e,t=B.selectedStepperIndexInsideSection>=0&&B.selectedStepperIndexInsideSection<B.getSelectedSection.children.length,a=this.state;a.anchorEl,a.imageClicked,a.text,a.selectedImage;return B.isLoading||!B.getSelectedSection?o.a.createElement(ae,null):B.isCheckListUploadError?o.a.createElement(yt,{message:"Error Occurred While Uploading Your Progress. You can again try to upload by clickig on below button!",onClickTryAgain:function(){return B.uploadCurrentCheckList()}}):o.a.createElement("div",{style:{height:"100vh"}},o.a.createElement("div",{style:{height:"10%"}},o.a.createElement("div",null,o.a.createElement(nt,{containerStyle:{backgroundColor:"transparent",color:"white"},noCenter:!0,headerLeft:o.a.createElement("div",{style:{marginRight:5}},o.a.createElement(st,{customClassName:"text-uppercase"},B.getSelectedSection.name),t&&o.a.createElement("div",{style:{color:y.colors.text.grey,marginTop:5,fontSize:12}},null===(e=B.getCurrentStepperContent)||void 0===e?void 0:e.subSectionName)),headerRight:o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(te.a,{style:{textAlign:"right"}},o.a.createElement("span",{style:{color:"white"}},"SECTION ",B.getSelectedSection.id,":")," ",o.a.createElement("span",{style:{color:"white"}},B.getSelectedSectionTotalCompletedPercentage,"% completed")),o.a.createElement(Zt.a,{variant:"success",now:B.getSelectedSectionTotalCompletedPercentage,style:{borderRadius:10,height:10}}),o.a.createElement(oa,{containerStyle:{textAlign:"right"}})),rightContainerStyle:{flex:3}}))),o.a.createElement("div",{style:{height:"70%",marginTop:10,overflowY:"scroll"},className:"disable-scrollbars"},o.a.createElement("div",null,this.renderContent())),o.a.createElement("div",{style:{height:"10%",marginTop:10}},this.renderFooter()))}}]),a}(r.Component),da=Object(ke.b)(sa),ma={trCustomStyle:{backgroundColor:"black"}},ua=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"isExpandableRow",value:function(e){return!0}},{key:"expandComponent",value:function(e){return o.a.createElement("div",null,o.a.createElement(v.a,null,o.a.createElement(lt.a,null,o.a.createElement(v.a.Group,{as:x.a,controlId:"textArea"},o.a.createElement(v.a.Control,{style:{boxShadow:"none",border:"none"},as:"textarea",rows:"3",placeholder:"Write note here..."}))),o.a.createElement(lt.a,null,o.a.createElement(v.a.Group,{as:x.a,controlId:"save"},o.a.createElement(re.a,{style:{backgroundColor:"white",color:"black",border:"none",width:100,boxShadow:"none"},onClick:function(){return alert("save")}},"Save")))))}},{key:"render",value:function(){var e=this,t=[{sn:1,type:"Site1 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:2,type:"Site2 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:3,type:"Site3 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:4,type:"Site4 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:5,type:"Site5 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:6,type:"Site6 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:7,type:"Site7 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:8,type:"Site8 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:9,type:"Site9 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:10,type:"Site10 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:11,type:"Site11 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:12,type:"Site12 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:13,type:"Site13 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:14,type:"Site14 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:15,type:"Site15 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:16,type:"Site16 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"},{sn:17,type:"Site17 114022211067",site:"Flex Office 123 Victoria Street",company:"Collins Construction Ltd",postcode:"London SW1E 6DE",estimate:"11/01/2021"}],a={expandBy:"column",exportCSVBtn:function(e){return o.a.createElement(ht.ExportCSVButton,{btnText:"Export",style:{backgroundColor:y.colors.action_color,outline:"none",border:"none"}})},page:1,sizePerPageList:[{text:"1",value:1},{text:"5",value:5},{text:"All",value:t.length}],sizePerPage:5,pageStartIndex:1,paginationSize:3,prePage:"Prev",nextPage:"Next",firstPage:"First",lastPage:"Last",paginationPosition:"bottom"};this.props.classes;return o.a.createElement("div",null,o.a.createElement("h4",{className:"underline",style:{color:"black"}},"Visits To Do"),o.a.createElement(ct.a,{style:{backgroundColor:y.colors.primary.dark,padding:20}},o.a.createElement(ht.BootstrapTable,{version:"4",data:t,options:a,striped:!0,hover:!0,condensed:!0,pagination:!0,search:!0,expandableRow:this.isExpandableRow,expandComponent:this.expandComponent,exportCSV:!0,csvFileName:"todo.csv",trStyle:{},trClassName:function(e,t){return t%2===0?ma.trCustomStyle:""}},o.a.createElement(ht.TableHeaderColumn,{thStyle:{},width:"70",dataSort:!0,isKey:!0,dataField:"sn",expandable:!1},"S.N"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"type",expandable:!1},"Type"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"200",dataSort:!0,dataField:"site",expandable:!1},"Site"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"company",expandable:!1},"Company"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"postcode",expandable:!1},"Postcode"),o.a.createElement(ht.TableHeaderColumn,{tdStyle:{whiteSpace:"normal"},width:"150",dataSort:!0,dataField:"estimate",expandable:!1},"Estimate"),o.a.createElement(ht.TableHeaderColumn,{thStyle:{},width:"150",dataField:"action",export:!1,expandable:!1,dataFormat:function(t,a){return o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"left",flexWrap:"wrap"}},o.a.createElement("i",{title:"checklist",style:{color:y.colors.action_color,cursor:"pointer"},onClick:function(){return e.props.history.push({pathname:"/dashboard/todo/checklist"})}},"CheckList"))}},"Action"),o.a.createElement(ht.TableHeaderColumn,{thStyle:{},width:"100",dataField:"note",export:!1,dataFormat:function(e,t){return o.a.createElement("div",{style:{display:"flex",cursor:"pointer",flexDirection:"row",justifyContent:"space-around",alignItems:"left",flexWrap:"wrap"}},o.a.createElement("i",{title:"addNote",style:{color:y.colors.action_color},onClick:function(){}},"Add Note"))}}))))}}]),a}(r.Component),pa=(r.Component,a(518)),ha=Object(Ne.a)((function(e){return{root:{width:42,height:26,padding:0},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:y.colors.success.main,opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{backgroundColor:y.colors.success.main},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(ne.a)(e,["classes"]);return o.a.createElement(pa.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),ga=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClickScheduleNow=function(e){e.preventDefault();var t=n.state,a=t.monitor_id,r=t.company_id,o=t.site_id,i=t.coronaCheck;n.setState({isLoading:!0,errorData:null}),M.assignSiteVisitSchedule({monitorId:a,companyId:r,siteId:o,isCoronaCheckRequired:i}).then((function(e){S.a.success(e.message||"Schduled Successfully"),n.setState({monitor_id:"",company_id:"",site_id:"",visit_date:new Date,visit_time:new Date,isLoading:!1})})).catch((function(e){console.log("Error",e),S.a.error(e.message||"Error while scheduling"),n.setState({isLoading:!1,errorData:e})}))},n.state={isLoading:!1,errorData:null,coronaCheck:!1,monitor_id:"",company_id:"",site_id:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Ot.a.parse(this.props.location.search);e.monitor_id&&this.setState({monitor_id:e.monitor_id})}},{key:"render",value:function(){var e=this;if(H.isLoading||q.isLoading)return o.a.createElement(ae,null);var t=this.state,a=t.monitor_id,n=t.company_id,r=t.site_id,i=(t.visit_date,t.visit_time,t.coronaCheck),l=t.isLoading,c=t.errorData;return o.a.createElement("div",{style:{position:"relative",minHeight:window.innerHeight-110}},l&&o.a.createElement(ae,{containerStyle:{},overlay:!0}),o.a.createElement(st,{customClassName:"text-uppercase"},"Schedule Monitor"),H.isError||q.isError?o.a.createElement(yt,{onClickTryAgain:function(){H.fetchAllMonitors(),q.fetchAllCompanies()}}):o.a.createElement("div",{style:{marginTop:40}},o.a.createElement(b.a,{maxWidth:"sm"},o.a.createElement(v.a,{onSubmit:this.onClickScheduleNow},c?o.a.createElement(Z,{errorData:c}):null,o.a.createElement(lt.a,null,o.a.createElement(x.a,null,o.a.createElement(v.a.Group,{controlId:"exampleForm.ControlSelect1"},o.a.createElement(v.a.Label,null,"MONITORS"),o.a.createElement(v.a.Control,{required:!0,as:"select",className:"classic",value:a,onChange:function(t){return e.setState({monitor_id:t.target.value})}},o.a.createElement("option",{value:""},"Please select"),H.getAllMonitors.map((function(e,t){return o.a.createElement("option",{key:t,value:e._id},"".concat(e.firstName," ").concat(e.lastName))}))))),o.a.createElement(x.a,null)),o.a.createElement(lt.a,null,o.a.createElement(x.a,null,o.a.createElement(v.a.Group,{controlId:"exampleForm.ControlSelect2"},o.a.createElement(v.a.Label,null,"COMPANY"),o.a.createElement(v.a.Control,{required:!0,as:"select",className:"classic",value:n,onChange:function(t){return e.setState({company_id:t.target.value})}},o.a.createElement("option",{value:""},"Please select"),q.getAllCompanies.map((function(e,t){return o.a.createElement("option",{key:t,value:e._id},"".concat(e.name))}))))),o.a.createElement(x.a,null,o.a.createElement(v.a.Group,{controlId:"exampleForm.ControlSelect3"},o.a.createElement(v.a.Label,null,"SITES"),o.a.createElement(v.a.Control,{required:!0,as:"select",className:"classic",value:r,onChange:function(t){return e.setState({site_id:t.target.value})}},o.a.createElement("option",{value:""},"Please select"),n&&q.getAllCompanies.find((function(e){return e._id==n})).site_list.map((function(e,t){return o.a.createElement("option",{key:t,value:e._id},"".concat(e.site_name))})))))),o.a.createElement(lt.a,null,o.a.createElement(x.a,null,o.a.createElement(v.a.Group,null,o.a.createElement(ha,{checked:i,onChange:function(t){return e.setState({coronaCheck:t.target.checked})}}),o.a.createElement(v.a.Label,{style:{marginLeft:5}},"CORONA CHECK")))),o.a.createElement("div",{className:"mt-4 text-center"},o.a.createElement(le,{withIcon:!0,square:!0,type:"submit"},"SCHEDULE NOW"))))),o.a.createElement(ot,{dividerStyle:{position:"absolute",left:0,top:"30%"}}),o.a.createElement(ot,{dividerStyle:{position:"absolute",right:0,bottom:"20%"}}))}}]),a}(r.Component),fa=Object(ke.b)(ga),ya=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,"This feature is currently being implemented. Please check after some days.")}}]),a}(r.Component),ba=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,"This feature is currently being implemented. Please check after some days.")}}]),a}(r.Component),Ea=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSubmitChangePassword=function(e){e.preventDefault();var t=n.state,a=t.currentPassword,r=t.newPassword;r!==t.confirmPassword&&S.a.error("Password do not match"),n.setState({isLoading:!0,errorData:null}),$.changePassword({oldPassword:a,newPassword:r}).then((function(e){n.setState({isLoading:!1}),n.props.history.goBack(),S.a.success("Password changed successfully")})).catch((function(e){console.log("Error Changing Password",e),n.setState({errorData:e,isLoading:!1}),S.a.error(e.message||"Error Changing Password")}))},n.renderErrorData=function(){var e=n.state.errorData;return e?o.a.createElement(Z,{errorData:e}):null},n.state={currentPassword:"",newPassword:"",confirmPassword:"",errorData:null,isLoading:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.isLoading&&o.a.createElement(ae,{overlay:!0}),o.a.createElement(st,{style:{fontSize:20,marginBottom:5}},"CHANGE PASSWORD"),o.a.createElement(ct.a,{style:{boxShadow:"none",transform:"scale(0.9)",padding:50,color:"white",backgroundColor:y.colors.primary.main}},this.renderErrorData(),o.a.createElement(ct.a.Body,null,o.a.createElement(v.a,{onSubmit:this.onSubmitChangePassword},o.a.createElement(v.a.Group,{as:lt.a,controlId:"formHorizontalEmail"},o.a.createElement(x.a,{sm:6,xs:12},o.a.createElement(v.a.Label,null,"CURRENT PASSWORD *"),o.a.createElement(v.a.Control,{required:!0,type:"password",value:this.state.currentPassword,onChange:function(t){return e.setState({currentPassword:t.target.value})}})),o.a.createElement(x.a,null)),o.a.createElement(v.a.Group,{as:lt.a,controlId:"formHorizontalPassword"},o.a.createElement(x.a,{sm:6,xs:12},o.a.createElement(v.a.Label,null,"NEW PASSWORD *"),o.a.createElement(v.a.Control,{required:!0,type:"password",value:this.state.newPassword,onChange:function(t){return e.setState({newPassword:t.target.value})}})),o.a.createElement(x.a,{sm:6,xs:12},o.a.createElement(v.a.Label,null,"CONFIRM NEW PASSWORD *"),o.a.createElement(v.a.Control,{required:!0,type:"password",value:this.state.confirmPassword,onChange:function(t){return e.setState({confirmPassword:t.target.value})}}))),o.a.createElement(v.a.Group,{as:lt.a},o.a.createElement(x.a,null,o.a.createElement("div",{style:{textAlign:"center"},class:"mt-4"},o.a.createElement(le,{square:!0,type:"submit"},"CHANGE PASSWORD"))))))))}}]),a}(r.Component),va=(a(512),a(372)),Ca=a.n(va),Sa=Object(Ce.a)((function(e){return{root:{backgroundColor:y.colors.primary.main,color:y.colors.primary.contrastText,position:"fixed",overflow:"hidden",width:"100vw",height:"100vh"},text:{fontWeight:"bold",fontSize:"35px",color:y.colors.primary.main,letterSpacing:"0.1em"},upper:{},lower:{}}})),ka=function(e){var t=Sa();return o.a.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:y.colors.primary.main,overflow:"hidden",position:"fixed"}},o.a.createElement("div",{style:{backgroundColor:"white",width:"150vw",height:"100vh",borderBottomLeftRadius:"50%",borderBottomRightRadius:"50%",position:"absolute",left:"50%",top:"-50%",transform:"translateX(-50%)",display:"flex",flex:1,alignItems:"flex-end",textAlign:"center"}},o.a.createElement("div",{style:{width:"100%",position:"relative",bottom:"5%",display:"flex",flexDirection:"column"}},o.a.createElement("div",null,o.a.createElement("img",{src:a(513),style:{width:150,paddingBottom:"50px"},alt:"Logo"})),o.a.createElement("div",{className:t.text},"MONITOR"),o.a.createElement("div",{className:t.text},"PORTAL"))),o.a.createElement("div",{style:{width:"100vw",height:"50vh",position:"absolute",bottom:"0",color:"white"}},o.a.createElement("div",{style:{backgroundColor:y.colors.primary.main,height:"50vh",flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"}},o.a.createElement("div",{style:{flex:8,display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(le,{square:!0,withIcon:!0,customMUIcon:o.a.createElement(Ca.a,null),onClick:function(){return e.history.push("/auth/login")}},"SECURE LOGIN")),o.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("small",null,o.a.createElement("span",null,"\xa9"),"Considerate Constructors Scheme Ldt"," ",(new Date).getFullYear()))),o.a.createElement(ot,{dividerStyle:{position:"absolute",left:0,top:"30%"}}),o.a.createElement(ot,{dividerStyle:{position:"absolute",right:0,bottom:"20%"}})))},xa=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isLoading:!0},n.authLoading(),n}return Object(d.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.authLoading(),this.initialFetch(),T.routeHistory=this.props.history}},{key:"authLoading",value:function(){$.isAuthenticated()?(F.setCurrentUserWithToken($.getCurrentUser()),this.setState({isLoading:!1}),this.props.history.push("/dashboard")):(this.setState({isLoading:!1}),this.props.history.push("/auth/welcome"))}},{key:"initialFetch",value:function(){$.isAuthenticated()&&($.isAdmin()?G("ADMIN"):G("MONITOR"))}},{key:"render",value:function(){var e=this.props.location;return this.state.isLoading?o.a.createElement($e,{noLayout:!0},o.a.createElement("div",{style:{backgroundColor:"black"}},o.a.createElement(ae,{title:"Authenticating..."}))):o.a.createElement($e,{noLayout:"/auth/login"==e.pathname||"/auth/welcome"==e.pathname,history:this.props.history},o.a.createElement("div",null,o.a.createElement(p.d,null,o.a.createElement(p.a,{from:"/",to:"/auth/welcome",exact:!0}),o.a.createElement(p.b,{path:"/auth/welcome",render:function(e){return F.isLoggedIn?o.a.createElement(p.a,{to:"/dashboard"}):o.a.createElement(ka,e)},exact:!0}),o.a.createElement(p.b,{path:"/auth/login",render:function(e){return F.isLoggedIn?o.a.createElement(p.a,{to:"/dashboard"}):o.a.createElement(it,e)},exact:!0}),!F.isAdmin&&o.a.createElement(p.a,{from:"/dashboard",to:"/dashboard/new-visit",exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard",component:ut,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/monitors/create-account",component:pt,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/monitors",component:Ct,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/monitors/add-schedule",component:fa,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/companies",component:xt,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/companies/company-viewer",component:jt,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/companies/company-viewer/assign-monitor",component:At,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/new-visit",component:Qt,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/todo",component:ua,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/todo/checklist",component:la,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/todo/checklist/checklist-section-viewer",component:da,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/messages",component:ya,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/help",component:ba,exact:!0}),o.a.createElement(rt,{isAuthenticated:F.isLoggedIn,path:"/dashboard/change-password",component:Ea,exact:!0}),o.a.createElement(p.a,{to:"/",exact:!0}))))}}]),a}(r.Component),wa=Object(p.i)(Object(ke.b)(xa)),Oa=a(35),La=a(373),ja=a(374),Na=a(618),Ia={root:{color:f.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"},"&:focus":{outline:"none",border:"none"}}},Ta={elevation1:{backgroundColor:f.primary.main,boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},Aa={h1:{color:f.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:f.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:f.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:f.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:f.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:f.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:f.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:f.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:f.text.primary,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:f.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:f.text.primary,fontSize:"14px"},caption:{color:f.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:f.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},Fa={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF",textTransform:"none","&:focus":{outline:"none",border:"none"}}},MuiIconButton:Ia,MuiPaper:Ta,MuiTableCell:{root:Object(D.a)(Object(D.a)({},Aa.body1),{},{borderBottom:"1px solid ".concat(f.divider)})},MuiTableHead:{root:{backgroundColor:h.a.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}}},Da=Object(ja.a)({overrides:Fa});var Pa=function(){return o.a.createElement(Na.a,{theme:Da},o.a.createElement(ke.a,n,o.a.createElement(Oa.a,{utils:La.a},o.a.createElement(Je,null),o.a.createElement(c.a,null,o.a.createElement(wa,null)))))},_a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ra(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(514),a(515);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Pa,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");_a?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ra(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ra(t,e)}))}}()}},[[385,1,2]]]);
//# sourceMappingURL=main.7e4cc120.chunk.js.map